

ğŸ”ğŸŸ¥ğŸŸ©

## ğŸ†š320

### [6243. åˆ°è¾¾é¦–éƒ½çš„æœ€å°‘æ²¹è€—](https://leetcode.cn/problems/minimum-fuel-cost-to-report-to-the-capital/)ğŸŸ¥

> ç»™ä½ ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ˆä¸€ä¸ªæ— å‘ã€è¿é€šã€æ— ç¯å›¾ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåŸå¸‚ï¼Œç¼–å·ä» `0` åˆ° `n - 1` ï¼Œä¸”æ°å¥½æœ‰ `n - 1` æ¡è·¯ã€‚`0` æ˜¯é¦–éƒ½ã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `roads` ï¼Œå…¶ä¸­ `roads[i] = [ai, bi]` ï¼Œè¡¨ç¤ºåŸå¸‚ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡ **åŒå‘è·¯** ã€‚
>
> æ¯ä¸ªåŸå¸‚é‡Œæœ‰ä¸€ä¸ªä»£è¡¨ï¼Œä»–ä»¬éƒ½è¦å»é¦–éƒ½å‚åŠ ä¸€ä¸ªä¼šè®®ã€‚
>
> æ¯åº§åŸå¸‚é‡Œæœ‰ä¸€è¾†è½¦ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° `seats` è¡¨ç¤ºæ¯è¾†è½¦é‡Œé¢åº§ä½çš„æ•°ç›®ã€‚
>
> åŸå¸‚é‡Œçš„ä»£è¡¨å¯ä»¥é€‰æ‹©ä¹˜åæ‰€åœ¨åŸå¸‚çš„è½¦ï¼Œæˆ–è€…ä¹˜åå…¶ä»–åŸå¸‚çš„è½¦ã€‚ç›¸é‚»åŸå¸‚ä¹‹é—´ä¸€è¾†è½¦çš„æ²¹è€—æ˜¯ä¸€å‡æ±½æ²¹ã€‚
>
> è¯·ä½ è¿”å›åˆ°è¾¾é¦–éƒ½æœ€å°‘éœ€è¦å¤šå°‘å‡æ±½æ²¹ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> <img src="../Resources/a4c380025e3ff0c379525e96a7d63a3.png" alt="img" style="zoom:67%;" />
>
> ```
> è¾“å…¥ï¼šroads = [[0,1],[0,2],[0,3]], seats = 5
> è¾“å‡ºï¼š3
> è§£é‡Šï¼š
> - ä»£è¡¨ 1 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 2 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 3 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> æœ€å°‘æ¶ˆè€— 3 å‡æ±½æ²¹ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> <img src="../Resources/2.png" alt="img" style="zoom:67%;" />
>
> ```
> è¾“å…¥ï¼šroads = [[3,1],[3,2],[1,0],[0,4],[0,5],[4,6]], seats = 2
> è¾“å‡ºï¼š7
> è§£é‡Šï¼š
> - ä»£è¡¨ 2 åˆ°è¾¾åŸå¸‚ 3 ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 2 å’Œä»£è¡¨ 3 ä¸€èµ·åˆ°è¾¾åŸå¸‚ 1 ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 2 å’Œä»£è¡¨ 3 ä¸€èµ·åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 1 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 5 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 6 åˆ°è¾¾åŸå¸‚ 4 ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 4 å’Œä»£è¡¨ 6 ä¸€èµ·åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> æœ€å°‘æ¶ˆè€— 7 å‡æ±½æ²¹ã€‚
> ```

```java
class Solution {
    List<Integer>[] edges = new List[100010];
    long ret = 0;
    public long minimumFuelCost(int[][] roads, int seats) {
        for(int i = 0 ; i < 100010 ; i ++){
            edges[i] = new ArrayList<>();
        }
        for(int i = 0 ; i < roads.length ; i ++){
            edges[roads[i][0]].add(roads[i][1]);
            edges[roads[i][1]].add(roads[i][0]);
        }
        for(int i = 0 ; i < edges[0].size() ; i++){
            dfs(edges[0].get(i) ,0,seats);//èµ·å§‹ä½ç½®ï¼š0å·ï¼Œéå†0è¿æ¥çš„èŠ‚ç‚¹DFSï¼Œå³1å’Œ4
        }
        
        return ret;
    }
    int dfs(int cur , int fa ,int seat){
        int all = 1;
        for(int i = 0 ; i < edges[cur].size() ; i ++){
            if(edges[cur].get(i) == fa) continue;
            all += dfs(edges[cur].get(i) , cur , seat);//å­æ ‘çš„ä¸ªæ•°
        }
        ret = ret +(all + seat - 1) / seat;
        return all;
    }
}
```

å…¶ä»–æ–¹æ³•ï¼šæ‹†åˆ†æˆä»¥0ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘

<img src="../Resources/1668949731-hWioKe-1.png" alt="1.png" style="zoom: 67%;" />

```java
class Solution {
    long ans = 0;
    public long minimumFuelCost(int[][] roads, int seats) {
        int n = roads.length + 1;
        List<List<Integer>> map = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            map.add(new ArrayList<>());
        }
        for (int i = 0; i < roads.length; i++) {
            map.get(roads[i][0]).add(roads[i][1]);
            map.get(roads[i][1]).add(roads[i][0]);
        }
        dfs(map,0,-1,seats);
        return ans;
    }

    public int dfs(List<List<Integer>> map,int cur,int father,int seats){
        int size = 1;
        for (int node : map.get(cur)){
            if (node != father){
                size += dfs(map,node,cur,seats);
            }
        }
        if (cur != 0) ans+=(int)Math.ceil((double) size/seats);
        return size;
    }
}
```

```java
long ans;
    public long minimumFuelCost(int[][] roads, int seats) {
        ans = 0;
        int n = roads.length + 1;
        List<Integer>[] graph = new List[n];
        for (int i = 0; i < n; i++) {
            graph[i] = new ArrayList<>();
        }
        for (int[] road : roads) {
            graph[road[0]].add(road[1]);
            graph[road[1]].add(road[0]);
        }
        BiFunction<Integer, Integer, Integer> function = new BiFunction<Integer, Integer, Integer>() {
            @Override
            public Integer apply(Integer x, Integer fa) {
                int ret = 1;
                for (int c : graph[x]) {
                    if (c != fa) {
                        ret += apply(c, x);
                    }
                }
                if (x != 0) {
                    ans += (ret + seats - 1) / seats;
                }
                return ret;
            }
        };
        function.apply(0, -1);
        return ans;
    }
```

```java
class Solution {
    List<Integer>[] g;
    long res;
    int seats;
    public long minimumFuelCost(int[][] roads, int seats) {
        if(roads.length==0){
            return 0L;
        }
        int num=0;
        this.seats=seats;
        for(int i=0;i<roads.length;i++){
            for(int j=0;j<2;j++){
                num=Math.max(num, roads[i][j]);
            }
        }

        g=new List[num+1];
        for(int i=0;i<roads.length;i++){
            if(g[roads[i][0]]==null){
                g[roads[i][0]]=new ArrayList<>();
            }
            if(g[roads[i][1]]==null){
                g[roads[i][1]]=new ArrayList<>();
            }
            g[roads[i][0]].add(roads[i][1]);
            g[roads[i][1]].add(roads[i][0]);
        }

        dfs(0,-1);
        return res;
    }

    public long dfs(int i, int fa){
        List<Integer> ch=g[i];
        long subres=1L;
        for(int j=0;j<ch.size();j++){
            if(ch.get(j)!=fa){
                subres += dfs(ch.get(j), i);
            }
        }
        if(i!=0){
            res+=(long)Math.ceil(((double)subres)/seats);
        }
        return subres;
    }

}
```

### [2478. å®Œç¾åˆ†å‰²çš„æ–¹æ¡ˆæ•°](https://leetcode.cn/problems/number-of-beautiful-partitions/)

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ¯ä¸ªå­—ç¬¦æ˜¯æ•°å­— `'1'` åˆ° `'9'` ï¼Œå†ç»™ä½ ä¸¤ä¸ªæ•´æ•° `k` å’Œ `minLength` ã€‚
>
> å¦‚æœå¯¹ `s` çš„åˆ†å‰²æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ª **å®Œç¾** åˆ†å‰²ï¼š
>
> - `s` è¢«åˆ†æˆ `k` æ®µäº’ä¸ç›¸äº¤çš„å­å­—ç¬¦ä¸²ã€‚
> - æ¯ä¸ªå­å­—ç¬¦ä¸²é•¿åº¦éƒ½ **è‡³å°‘** ä¸º `minLength` ã€‚
> - æ¯ä¸ªå­å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ª **è´¨æ•°** æ•°å­—ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ª **éè´¨æ•°** æ•°å­—ã€‚è´¨æ•°æ•°å­—ä¸º `'2'` ï¼Œ`'3'` ï¼Œ`'5'` å’Œ `'7'` ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯éè´¨æ•°æ•°å­—ã€‚
>
> è¯·ä½ è¿”å› `s` çš„ **å®Œç¾** åˆ†å‰²æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¿”å›ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™** åçš„ç»“æœã€‚
>
> ä¸€ä¸ª **å­å­—ç¬¦ä¸²** æ˜¯å­—ç¬¦ä¸²ä¸­ä¸€æ®µè¿ç»­å­—ç¬¦ä¸²åºåˆ—ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "23542185131", k = 3, minLength = 2
> è¾“å‡ºï¼š3
> è§£é‡Šï¼šå­˜åœ¨ 3 ç§å®Œç¾åˆ†å‰²æ–¹æ¡ˆï¼š
> "2354 | 218 | 5131"
> "2354 | 21851 | 31"
> "2354218 | 51 | 31"
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "23542185131", k = 3, minLength = 3
> è¾“å‡ºï¼š1
> è§£é‡Šï¼šå­˜åœ¨ä¸€ç§å®Œç¾åˆ†å‰²æ–¹æ¡ˆï¼š"2354 | 218 | 5131" ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "3312958", k = 3, minLength = 1
> è¾“å‡ºï¼š1
> è§£é‡Šï¼šå­˜åœ¨ä¸€ç§å®Œç¾åˆ†å‰²æ–¹æ¡ˆï¼š"331 | 29 | 58" ã€‚
> ```

## â™ˆåŒ92

### 2484. ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®ğŸŸ¥

> ç»™ä½ æ•°å­—å­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ è¿”å› `s` ä¸­é•¿åº¦ä¸º `5` çš„ **å›æ–‡å­åºåˆ—** æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™** åè¿”å›ã€‚
>
> **æç¤ºï¼š**
>
> - å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä»å‰å¾€åå’Œä»åå¾€å‰è¯»ç›¸åŒï¼Œé‚£ä¹ˆå®ƒæ˜¯ **å›æ–‡å­—ç¬¦ä¸²** ã€‚
> - å­åºåˆ—æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åˆ é™¤è‹¥å¹²ä¸ªå­—ç¬¦åï¼Œä¸æ”¹å˜å­—ç¬¦é¡ºåºï¼Œå‰©ä½™å­—ç¬¦æ„æˆçš„å­—ç¬¦ä¸²ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "103301"
> è¾“å‡ºï¼š2
> è§£é‡Šï¼š
> æ€»å…±æœ‰ 6 é•¿åº¦ä¸º 5 çš„å­åºåˆ—ï¼š"10330" ï¼Œ"10331" ï¼Œ"10301" ï¼Œ"10301" ï¼Œ"13301" ï¼Œ"03301" ã€‚
> å®ƒä»¬ä¸­æœ‰ä¸¤ä¸ªï¼ˆéƒ½æ˜¯ "10301"ï¼‰æ˜¯å›æ–‡çš„ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "0000000"
> è¾“å‡ºï¼š21
> è§£é‡Šï¼šæ‰€æœ‰ 21 ä¸ªé•¿åº¦ä¸º 5 çš„å­åºåˆ—éƒ½æ˜¯ "00000" ï¼Œéƒ½æ˜¯å›æ–‡çš„ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "9999900000"
> è¾“å‡ºï¼š2
> è§£é‡Šï¼šä»…æœ‰çš„ä¸¤ä¸ªå›æ–‡å­åºåˆ—æ˜¯ "99999" å’Œ "00000" ã€‚
> ```

```java
//æœ€ç®€å•ç†è§£
class Solution {
    public int countPalindromes(String s) {
        int ans = 0;
        //é•¿åº¦ä¸º5 çš„å›æ–‡ä¸²ï¼Œåªè¦è€ƒè™‘å‰ä¸‰ä¸ªå­—æ¯ï¼Œç„¶åå‰ä¸‰å­—æ¯æšä¸¾0--9ï¼Œå…±æœ‰10^3ç§ã€
        //æšä¸¾åæ‰¾åœ¨sä¸­çš„æ•°é‡ï¼ŒåŸé¢˜ 115.ä¸åŒå­åºåˆ—
        for (char a = '0'; a <= '9'; ++a) {
            for (char b = '0'; b <= '9'; ++b) {
                for (char c = '0'; c <= '9'; ++c) {
                    String t = new String(new char[]{a, b, c, b, a});
                    ans += dp2(s, t);
                    ans %= 1000000007;
                }
            }
        }
        return ans;
    }
    // åŸç‰ˆDP
   /*
   	dp[i][j] ç”± dp[i-1][?] é€’æ¨å¾—æ¥ï¼Œè€ƒè™‘dp[i-1][j-1],dp[i-1][j] ä¸ dp[i][j] å…³ç³»
   		å¦‚æœ s[i] å’Œ t[j] ä¸ç›¸ç­‰ï¼Œåˆ™s[i-1] å’Œ s[i]  æ˜¯ä¸€æ ·ã€‚ dp[i][j] = dp[i-1][j]
   		å¦‚æœ s[i] å’Œ t[j] ç›¸ç­‰ :
   			å‡è®¾s_iä¸­æ‰€æœ‰t_jå­åºåˆ—ä¸­ï¼ŒåŒ…å«s[i]çš„æœ‰aä¸ªï¼Œä¸åŒ…å«çš„æœ‰bä¸ªï¼Œ
   			s_iä¸­åŒ…å« s[i]çš„å­åºåˆ—ä¸ªæ•°ç›¸å½“äºs_iä¸­t_j-1çš„ä¸ªæ•°ï¼Œä¸åŒ…å«s[i] çš„æƒ…å†µå’Œä¸Šé¢ä¸€æ ·
   			dp[i][j] = dp[i-1][j-1] +dp[i-1][j]
   */
    
    //è®²ä¸‹ä¸ªäººç†è§£ï¼šè¿™é¢˜å¯ä»¥çœ‹ä½œä¸€ä¸ª01èƒŒåŒ…é—®é¢˜ sä¸²æ˜¯ç‰©å“ï¼Œtä¸²æ˜¯èƒŒåŒ…ã€‚slæ˜¯sä¸²çš„é•¿åº¦ï¼Œtlæ˜¯tä¸²çš„é•¿åº¦ã€‚é‚£ä¹ˆé¢˜ç›®å¯ä»¥è½¬æˆä»sä¸²ä¸­ä»»é€‰tlä¸ªå­—ç¬¦å¯ä»¥æ‹¼æˆtä¸²çš„ç»„åˆä¸ªæ•°ã€‚ æˆ‘ä»¬å®šä¹‰dp[i][j] ä¸ºä»sä¸²ä¸­çš„å‰iå­—ç¬¦ä¸­ä»»é€‰jä¸ªå­—ç¬¦å¯ä»¥æ‹¼æˆtä¸²å‰jä¸ªå­—ç¬¦è¡¨ç¤ºçš„å­ä¸²çš„ç»„åˆæ•°ã€‚ é‚£ä¹ˆæŒ‰ç…§èƒŒåŒ…é—®é¢˜çš„æ­¥éª¤å¯¹sä¸²çš„ç¬¬iä¸ªå­—ç¬¦æˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹©ï¼š 1.ä¸é€‰æ‹©ç¬¬iä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆdp[i][j] = dp[i - 1][j] 2.é€‰æ‹©ç¬¬iä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå½“s[i] == t[j]çš„æƒ…å†µä¸‹dp[i][j] = dp[i - 1][j - 1] ç»¼åˆä¸¤ç§æƒ…å†µå¯ä»¥å¾—åˆ° dp[i][j] = dp[i - 1][j] + dp[i - 1][j - 1](s[i] == t[j]) è¾¹ç•Œæ¡ä»¶dp[i][0] = 1, å³ä¸º j == 1 && s[i] == t[j] 
    static int dp1(String s, String t) {
        int n = s.length(), m = t.length();
        int[][] f = new int[n + 1][m + 1];//dp[i][j] è¡¨ç¤ºså‰iå­—ç¬¦ä¸­tå‰jå­—ç¬¦å­åºåˆ—ä¸ªæ•°
        f[0][0] = 1;
        for (int i = 1; i <= n; ++i) {
            f[i][0] = 1; //s_i ä¸­ j_0 çš„ä¸ªæ•°ï¼Œå®šä¹‰ä¸º1
            for (int j = 1; j <= m; ++j) {
                f[i][j] = f[i - 1][j];
                if (s.charAt(i - 1) == t.charAt(j - 1)) {
                    f[i][j] += f[i - 1][j - 1];
                    f[i][j] %= 1000000007;
                }
            }
        }
        return f[n][m];
    }
    // ç©ºé—´ä¼˜åŒ–ç‰ˆDP
    static int dp2(String s, String t) {
        int n = s.length(), m = t.length();
        int[] f = new int[m + 1];
        f[0] = 1;
        for (int i = 1; i <= n; ++i) {
            for (int j = m; j >= 1; --j) {
                if (s.charAt(i - 1) == t.charAt(j - 1)) {
                    f[j] += f[j - 1];
                    f[j] %= 1000000007;
                }
            }
        }
        return f[m];
    }
}
```



```java
class Solution {
    private static final long MOD = (long) 1e9 + 7;

    public int countPalindromes(String S) {
        var s = S.toCharArray();
        int[] pre = new int[10], suf = new int[10];
        int[][] pre2 = new int[10][10], suf2 = new int[10][10];
        for (var i = s.length - 1; i >= 0; --i) {
            var d = s[i] - '0';
            for (var j = 0; j < 10; ++j)
                suf2[d][j] += suf[j];
            ++suf[d];
        }

        var ans = 0L;
        for (var d : s) {
            d -= '0';
            --suf[d];
            for (var j = 0; j < 10; ++j)
                suf2[d][j] -= suf[j]; // æ’¤é”€
            for (var j = 0; j < 10; ++j)
                for (var k = 0; k < 10; ++k)
                    ans += (long) pre2[j][k] * suf2[j][k]; // æšä¸¾æ‰€æœ‰å­—ç¬¦ç»„åˆ
            for (var j = 0; j < 10; ++j)
                pre2[d][j] += pre[j];
            ++pre[d];
        }
        return (int) (ans % MOD);
    }
}

ä½œè€…ï¼šendlesscheng
é“¾æ¥ï¼šhttps://leetcode.cn/problems/count-palindromic-subsequences/solution/qian-hou-zhui-fen-jie-o100-chang-shu-kon-51cv/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

```java
class Solution {
    public int countPalindromes(String s) {
        char[] chars=s.toCharArray();
        long[] pre=new long[10],suf=new long[10];
        long[][] prePre=new long[10][10],sufSuf=new long[10][10];
        for(int i=s.length()-1;i>=0;i--){
            int num=s.charAt(i)-'0';
            for(int j=0;j<10;j++){
                sufSuf[num][j]+=suf[j];
            }
            suf[num]++;
        }
        long res=0;
        for(int i=0;i<s.length();i++){
            int num=s.charAt(i)-'0';
            suf[num]--;
            for(int j=0;j<10;j++){
                sufSuf[num][j]-=suf[j];
            }
            for(int j=0;j<10;j++){
                for(int k=0;k<10;k++){
                    res+=prePre[j][k]*sufSuf[j][k];
                }
            }
            for(int j=0;j<10;j++){
                prePre[num][j]+=pre[j];
            }
            pre[num]++;
        }
        return (int)(res%1_000_000_007);
    }
}
```

```java
//è½¬ long
class Solution {
    int mod = (int) 1e9 + 7;

    public int countPalindromes(String s) {
        char[] cs = s.toCharArray();
        int n = cs.length;
        long ans = 0L;
        int[][] cntP = new int[n + 1][10], cntPos = new int[n + 1][10];
        for (int i = 1; i <= n; i++) {
            System.arraycopy(cntP[i - 1], 0, cntP[i], 0, 10);
            cntP[i][cs[i - 1] - '0']++;
        }
        for (int i = n - 2; i >= 0; i--) {
            System.arraycopy(cntPos[i + 1], 0, cntPos[i], 0, 10);
            cntPos[i][cs[i + 1] - '0']++;
        }
        int[][][] cnt1 = new int[n][10][10], cnt2 = new int[n][10][10];
        for (int i = 1; i < n; i++) {
            for (int j = 0; j < 10; j++) System.arraycopy(cnt1[i - 1][j], 0, cnt1[i][j], 0, 10);
            for (int j = 0; j < 10; j++) {
                cnt1[i][j][cs[i] - '0'] = (cnt1[i][j][cs[i] - '0'] + cntP[i][j]) % mod;
            }
        }
        for (int i = n - 2; i >= 0; i--) {
            for (int j = 0; j < 10; j++) System.arraycopy(cnt2[i + 1][j], 0, cnt2[i][j], 0, 10);
            for (int j = 0; j < 10; j++) {
                cnt2[i][cs[i] - '0'][j] = (cnt2[i][cs[i] - '0'][j] + cntPos[i][j]) % mod; 
            }
        }
        for (int i = 1; i < n - 1; i++) {
            for (int j = 0; j < 10; j++) {
                for (int k = 0; k < 10; k++) {
                    ans = (ans + ((long)cnt1[i - 1][j][k] * cnt2[i + 1][k][j])) % mod;
                }
            }
        }
        return (int) (ans % mod);
    }
}
```

#### 1930

#### 115

## â™ˆ321

### [2487. ä»é“¾è¡¨ä¸­ç§»é™¤èŠ‚ç‚¹ğŸŸ¥](https://leetcode.cn/problems/remove-nodes-from-linked-list/)

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head` ã€‚
>
> å¯¹äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ `node` ï¼Œå¦‚æœå…¶å³ä¾§å­˜åœ¨ä¸€ä¸ªå…·æœ‰ **ä¸¥æ ¼æ›´å¤§** å€¼çš„èŠ‚ç‚¹ï¼Œåˆ™ç§»é™¤ `node` ã€‚
>
> è¿”å›ä¿®æ”¹åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head` ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2022/10/02/drawio.png)
>
> ```
> è¾“å…¥ï¼šhead = [5,2,13,3,8]
> è¾“å‡ºï¼š[13,8]
> è§£é‡Šï¼šéœ€è¦ç§»é™¤çš„èŠ‚ç‚¹æ˜¯ 5 ï¼Œ2 å’Œ 3 ã€‚
> - èŠ‚ç‚¹ 13 åœ¨èŠ‚ç‚¹ 5 å³ä¾§ã€‚
> - èŠ‚ç‚¹ 13 åœ¨èŠ‚ç‚¹ 2 å³ä¾§ã€‚
> - èŠ‚ç‚¹ 8 åœ¨èŠ‚ç‚¹ 3 å³ä¾§ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šhead = [1,1,1,1]
> è¾“å‡ºï¼š[1,1,1,1]
> è§£é‡Šï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 1 ï¼Œæ‰€ä»¥æ²¡æœ‰éœ€è¦ç§»é™¤çš„èŠ‚ç‚¹ã€‚
> ```

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode removeNodes(ListNode head) {
        if(head.next==null){
            return head;
        }

        ListNode temp = removeNodes(head.next);

        if(temp.val>head.val){
            return temp;
        }
        head.next = temp;
        return head;
    }
}
```

### [2488. ç»Ÿè®¡ä¸­ä½æ•°ä¸º K çš„å­æ•°ç»„](https://leetcode.cn/problems/count-subarrays-with-median-k/)

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `nums` ï¼Œè¯¥æ•°ç»„ç”±ä» `1` åˆ° `n` çš„ **ä¸åŒ** æ•´æ•°ç»„æˆã€‚å¦ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° `k` ã€‚
>
> ç»Ÿè®¡å¹¶è¿”å› `num` ä¸­çš„ **ä¸­ä½æ•°** ç­‰äº `k` çš„éç©ºå­æ•°ç»„çš„æ•°ç›®ã€‚
>
> **æ³¨æ„ï¼š**
>
> - æ•°ç»„çš„ä¸­ä½æ•°æ˜¯æŒ‰ é€’å¢é¡ºåºæ’åˆ—åä½äºä¸­é—´çš„é‚£ä¸ªå…ƒç´ ï¼Œå¦‚æœæ•°ç»„é•¿åº¦ä¸ºå¶æ•°ï¼Œåˆ™ä¸­ä½æ•°æ˜¯ä½äºä¸­é—´é å·¦çš„é‚£ä¸ªå…ƒç´ ã€‚
>     - ä¾‹å¦‚ï¼Œ`[2,3,1,4]` çš„ä¸­ä½æ•°æ˜¯ `2` ï¼Œ`[8,4,3,5,1]` çš„ä¸­ä½æ•°æ˜¯ `4` ã€‚
> - å­æ•°ç»„æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚
>
>  **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [3,2,1,4,5], k = 4
> è¾“å‡ºï¼š3
> è§£é‡Šï¼šä¸­ä½æ•°ç­‰äº 4 çš„å­æ•°ç»„æœ‰ï¼š[4]ã€[4,5] å’Œ [1,4,5] ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,3,1], k = 3
> è¾“å‡ºï¼š1
> è§£é‡Šï¼š[3] æ˜¯å”¯ä¸€ä¸€ä¸ªä¸­ä½æ•°ç­‰äº 3 çš„å­æ•°ç»„ã€‚
> ```





## ğŸ†š322

### 6255. ä¸¤ä¸ªåŸå¸‚é—´è·¯å¾„çš„æœ€å°åˆ†æ•°

> ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° `n` ï¼Œè¡¨ç¤ºæ€»å…±æœ‰ `n` ä¸ªåŸå¸‚ï¼ŒåŸå¸‚ä» `1` åˆ° `n` ç¼–å·ã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ `roads` ï¼Œå…¶ä¸­ `roads[i] = [ai, bi, distancei]` è¡¨ç¤ºåŸå¸‚ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡ **åŒå‘** é“è·¯ï¼Œé“è·¯è·ç¦»ä¸º `distancei` ã€‚åŸå¸‚æ„æˆçš„å›¾ä¸ä¸€å®šæ˜¯è¿é€šçš„ã€‚
>
> ä¸¤ä¸ªåŸå¸‚ä¹‹é—´ä¸€æ¡è·¯å¾„çš„ **åˆ†æ•°** å®šä¹‰ä¸ºè¿™æ¡è·¯å¾„ä¸­é“è·¯çš„ **æœ€å°** è·ç¦»ã€‚
>
> åŸå¸‚ `1` å’ŒåŸå¸‚ `n` ä¹‹é—´çš„æ‰€æœ‰è·¯å¾„çš„ **æœ€å°** åˆ†æ•°ã€‚
>
> **æ³¨æ„ï¼š**
>
> - ä¸€æ¡è·¯å¾„æŒ‡çš„æ˜¯ä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„é“è·¯åºåˆ—ã€‚
> - ä¸€æ¡è·¯å¾„å¯ä»¥ **å¤šæ¬¡** åŒ…å«åŒä¸€æ¡é“è·¯ï¼Œä½ ä¹Ÿå¯ä»¥æ²¿ç€è·¯å¾„å¤šæ¬¡åˆ°è¾¾åŸå¸‚ `1` å’ŒåŸå¸‚ `n` ã€‚
> - æµ‹è¯•æ•°æ®ä¿è¯åŸå¸‚ `1` å’ŒåŸå¸‚`n` ä¹‹é—´ **è‡³å°‘** æœ‰ä¸€æ¡è·¯å¾„ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](../Resources/graph11.png)
>
> ```
> è¾“å…¥ï¼šn = 4, roads = [[1,2,9],[2,3,6],[2,4,5],[1,4,7]]
> è¾“å‡ºï¼š5
> è§£é‡Šï¼šåŸå¸‚ 1 åˆ°åŸå¸‚ 4 çš„è·¯å¾„ä¸­ï¼Œåˆ†æ•°æœ€å°çš„ä¸€æ¡ä¸ºï¼š1 -> 2 -> 4 ã€‚è¿™æ¡è·¯å¾„çš„åˆ†æ•°æ˜¯ min(9,5) = 5 ã€‚
> ä¸å­˜åœ¨åˆ†æ•°æ›´å°çš„è·¯å¾„ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ![img](../Resources/graph22.png)
>
> ```
> è¾“å…¥ï¼šn = 4, roads = [[1,2,2],[1,3,4],[3,4,7]]
> è¾“å‡ºï¼š2
> è§£é‡Šï¼šåŸå¸‚ 1 åˆ°åŸå¸‚ 4 åˆ†æ•°æœ€å°çš„è·¯å¾„æ˜¯ï¼š1 -> 2 -> 1 -> 3 -> 4 ã€‚è¿™æ¡è·¯å¾„çš„åˆ†æ•°æ˜¯ min(2,2,4,7) = 2 ã€‚
> ```
>
> **æç¤ºï¼š**
>
> - `2 <= n <= 105`
> - `1 <= roads.length <= 105`
> - `roads[i].length == 3`
> - `1 <= ai, bi <= n`
> - `ai != bi`
> - `1 <= distancei <= 104`
> - ä¸ä¼šæœ‰é‡å¤çš„è¾¹ã€‚
> - åŸå¸‚ `1` å’ŒåŸå¸‚ `n` ä¹‹é—´è‡³å°‘æœ‰ä¸€æ¡è·¯å¾„ã€‚

```java
//è§£ç­”ï¼šDFS
class Solution {
    int min = Integer.MAX_VALUE;
    public int minScore(int n, int[][] roads) {
        List<List<int [] >> g= new ArrayList<>();
        for(int i=0;i<n;i++){
            g.add(new ArrayList<>());
        }
        for(int[]e: roads){
            int x = e[0]-1;
            int y = e[1]-1;
            int weight =  e[2];
            g.get(x).add(new int[]{y,weight});
            g.get(y).add(new int[]{x,weight});
        }
        int [] visit = new int [n];
        dfs(g,0,visit);
        return min;
    }
    public void  dfs(List<List<int []>> g,int start, int [] visit   ){
        if(visit[start]!=0 ){
            return ;
        }
        visit[start] = 1;
        for(int [] next :g.get(start)){
            if(min > next[1]){
                min = next[1];
            }
            dfs(g,next[0],visit);
        }
        visit[start] = -1;
    }
}
```





```java
//TLE è£¸å¹¶æŸ¥é›†
class Solution {
     public int minScore(int n, int[][] roads) {
            int ans = Integer.MAX_VALUE;
            UnionFind uf = new UnionFind(n+1);
            for(int[] road:roads){
                uf.union(road[0],road[1]);
            }
            for(int[] road:roads){
                if(uf.connected(1,road[0])){
                    ans = Math.min(ans,road[2]);
                }
                if(uf.connected(1,road[1])){
                    ans = Math.min(ans,road[2]);
                }
            }
            return ans;
        }

         class UnionFind {
            private int[] id;
            private int count;

            public UnionFind(int N) {
                count = N;
                id = new int[N];
                for(int i = 0; i < N; i++) id[i] = i;
            }
            public int getCount() {
                return count;
            }
            public boolean connected(int p, int q) {
                return find(p) == find(q);
            }
            public int find(int p) {
                return id[p];
            }
            public void union(int p, int q){
                int pRoot = find(p);
                int qRoot = find(q);
                if(pRoot == qRoot) return;
                for(int i = 0; i < id.length; i++)
                    if(id[i] == pRoot)  id[i] = qRoot;
                count--;
            }
        }
    }
```

```java
class Solution {
    public int minScore(int n, int[][] roads) {
            int ans = Integer.MAX_VALUE;
            UnionFind uf = new UnionFind(n+1);
            for(int[] road:roads){
                uf.union(road[0],road[1]);
            }
            for(int[] road:roads){
                if(uf.connected(1,road[0])){
                    ans = Math.min(ans,road[2]);
                }
                if(uf.connected(1,road[1])){
                    ans = Math.min(ans,road[2]);
                }
            }
            return ans;
        }
         class UnionFind {
                 private int[] id;
                 private int count;
                 private int[] sz;
                 public UnionFind(int N) {
                     count = N;
                     id = new int[N];
                     sz = new int[N];
                     for(int i = 0; i < N; i++) {
                         id[i] = i;
                         sz[i] = 1;
                     }
                 }
                 public boolean connected(int p, int q) {
                     return find(p) == find(q);
                 }
                 public int find(int p) {
                     while(p != id[p]) p = id[p];
                     return p;
                 }
                 public void union(int p, int q){
                     int pRoot = find(p);
                     int qRoot = find(q);
                     if(pRoot == qRoot) return;
                     if(sz[pRoot] < sz[qRoot]) { id[pRoot] = qRoot; sz[qRoot] += sz[pRoot]; }
                     else                      { id[qRoot] = pRoot; sz[pRoot] += sz[qRoot]; }
                     count--;
             }
    }
}
```

#### å¹¶æŸ¥é›†

### [6256. å°†èŠ‚ç‚¹åˆ†æˆå°½å¯èƒ½å¤šçš„ç»„](https://leetcode.cn/problems/divide-nodes-into-the-maximum-number-of-groups/)

> ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° `n` ï¼Œè¡¨ç¤ºä¸€ä¸ª **æ— å‘** å›¾ä¸­çš„èŠ‚ç‚¹æ•°ç›®ï¼ŒèŠ‚ç‚¹ç¼–å·ä» `1` åˆ° `n` ã€‚
>
> åŒæ—¶ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` è¡¨ç¤ºèŠ‚ç‚¹ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡ **åŒå‘** è¾¹ã€‚æ³¨æ„ç»™å®šçš„å›¾å¯èƒ½æ˜¯ä¸è¿é€šçš„ã€‚
>
> è¯·ä½ å°†å›¾åˆ’åˆ†ä¸º `m` ä¸ªç»„ï¼ˆç¼–å·ä» **1** å¼€å§‹ï¼‰ï¼Œæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š
>
> - å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½åªå±äºä¸€ä¸ªç»„ã€‚
> - å›¾ä¸­æ¯æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªç‚¹ `[ai, bi]` ï¼Œå¦‚æœ `ai` å±äºç¼–å·ä¸º `x` çš„ç»„ï¼Œ`bi` å±äºç¼–å·ä¸º `y` çš„ç»„ï¼Œé‚£ä¹ˆ `|y - x| = 1` ã€‚
>
> è¯·ä½ è¿”å›æœ€å¤šå¯ä»¥å°†èŠ‚ç‚¹åˆ†ä¸ºå¤šå°‘ä¸ªç»„ï¼ˆä¹Ÿå°±æ˜¯æœ€å¤§çš„ `m` ï¼‰ã€‚å¦‚æœæ²¡åŠæ³•åœ¨ç»™å®šæ¡ä»¶ä¸‹åˆ†ç»„ï¼Œè¯·ä½ è¿”å› `-1` ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](../Resources/example1.png)
>
> ```
> è¾“å…¥ï¼šn = 6, edges = [[1,2],[1,4],[1,5],[2,6],[2,3],[4,6]]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ
> - èŠ‚ç‚¹ 5 åœ¨ç¬¬ä¸€ä¸ªç»„ã€‚
> - èŠ‚ç‚¹ 1 åœ¨ç¬¬äºŒä¸ªç»„ã€‚
> - èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 4 åœ¨ç¬¬ä¸‰ä¸ªç»„ã€‚
> - èŠ‚ç‚¹ 3 å’ŒèŠ‚ç‚¹ 6 åœ¨ç¬¬å››ä¸ªç»„ã€‚
> æ‰€æœ‰è¾¹éƒ½æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚
> å¦‚æœæˆ‘ä»¬åˆ›å»ºç¬¬äº”ä¸ªç»„ï¼Œå°†ç¬¬ä¸‰ä¸ªç»„æˆ–è€…ç¬¬å››ä¸ªç»„ä¸­ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ”¾åˆ°ç¬¬äº”ä¸ªç»„ï¼Œè‡³å°‘æœ‰ä¸€æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªèŠ‚ç‚¹æ‰€å±çš„ç»„ç¼–å·ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šn = 3, edges = [[1,2],[2,3],[3,1]]
> è¾“å‡ºï¼š-1
> è§£é‡Šï¼šå¦‚æœæˆ‘ä»¬å°†èŠ‚ç‚¹ 1 æ”¾å…¥ç¬¬ä¸€ä¸ªç»„ï¼ŒèŠ‚ç‚¹ 2 æ”¾å…¥ç¬¬äºŒä¸ªç»„ï¼ŒèŠ‚ç‚¹ 3 æ”¾å…¥ç¬¬ä¸‰ä¸ªç»„ï¼Œå‰ä¸¤æ¡è¾¹æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œä½†ç¬¬ä¸‰æ¡è¾¹ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚
> æ²¡æœ‰ä»»ä½•ç¬¦åˆé¢˜ç›®è¦æ±‚çš„åˆ†ç»„æ–¹å¼ã€‚
> ```
>
> **æç¤ºï¼š**
>
> - `1 <= n <= 500`
> - `1 <= edges.length <= 104`
> - `edges[i].length == 2`
> - `1 <= ai, bi <= n`
> - `ai != bi`
> - ä¸¤ä¸ªç‚¹ä¹‹é—´è‡³å¤šåªæœ‰ä¸€æ¡è¾¹ã€‚





## â™ˆåŒ91

### 2467. æ ‘ä¸Šæœ€å¤§å¾—åˆ†å’Œè·¯å¾„

> ä¸€ä¸ª `n` ä¸ªèŠ‚ç‚¹çš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º `0` åˆ° `n - 1` ï¼Œæ ‘çš„æ ¹ç»“ç‚¹æ˜¯ `0` å·èŠ‚ç‚¹ã€‚ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n - 1` çš„äºŒç»´æ•´æ•°æ•°ç»„ `edges` ï¼Œå…¶ä¸­ `edges[i] = [ai, bi]` ï¼Œè¡¨ç¤ºèŠ‚ç‚¹ `ai` å’Œ `bi` åœ¨æ ‘ä¸­æœ‰ä¸€æ¡è¾¹ã€‚
>
> åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ `i` å¤„æœ‰ä¸€æ‰‡é—¨ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªéƒ½æ˜¯å¶æ•°çš„æ•°ç»„ `amount` ï¼Œå…¶ä¸­ `amount[i]` è¡¨ç¤ºï¼š
>
> - å¦‚æœ `amount[i]` çš„å€¼æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºæ‰“å¼€èŠ‚ç‚¹ `i` å¤„é—¨æ‰£é™¤çš„åˆ†æ•°ã€‚
> - å¦‚æœ `amount[i]` çš„å€¼æ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºæ‰“å¼€èŠ‚ç‚¹ `i` å¤„é—¨åŠ ä¸Šçš„åˆ†æ•°ã€‚
>
> æ¸¸æˆæŒ‰ç…§å¦‚ä¸‹è§„åˆ™è¿›è¡Œï¼š
>
> - ä¸€å¼€å§‹ï¼ŒAlice åœ¨èŠ‚ç‚¹ `0` å¤„ï¼ŒBob åœ¨èŠ‚ç‚¹ `bob` å¤„ã€‚
>
> - æ¯ä¸€ç§’é’Ÿï¼ŒAlice å’Œ Bob **åˆ†åˆ«** ç§»åŠ¨åˆ°ç›¸é‚»çš„èŠ‚ç‚¹ã€‚Alice æœç€æŸä¸ª **å¶å­ç»“ç‚¹** ç§»åŠ¨ï¼ŒBob æœç€èŠ‚ç‚¹ `0` ç§»åŠ¨ã€‚
>
> - å¯¹äºä»–ä»¬ä¹‹é—´è·¯å¾„ä¸Šçš„
>
>          æ¯ä¸€ä¸ª
>    
>      èŠ‚ç‚¹ï¼ŒAlice å’Œ Bob è¦ä¹ˆæ‰“å¼€é—¨å¹¶æ‰£åˆ†ï¼Œè¦ä¹ˆæ‰“å¼€é—¨å¹¶åŠ åˆ†ã€‚æ³¨æ„ï¼š
>    
>     - å¦‚æœé—¨ **å·²ç»æ‰“å¼€** ï¼ˆè¢«å¦ä¸€ä¸ªäººæ‰“å¼€ï¼‰ï¼Œä¸ä¼šæœ‰é¢å¤–åŠ åˆ†ä¹Ÿä¸ä¼šæ‰£åˆ†ã€‚
>    - å¦‚æœ Alice å’Œ Bob **åŒæ—¶** åˆ°è¾¾ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–ä»¬ä¼šå…±äº«è¿™ä¸ªèŠ‚ç‚¹çš„åŠ åˆ†æˆ–è€…æ‰£åˆ†ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœæ‰“å¼€è¿™æ‰‡é—¨æ‰£ `c` åˆ†ï¼Œé‚£ä¹ˆ Alice å’Œ Bob åˆ†åˆ«æ‰£ `c / 2` åˆ†ã€‚å¦‚æœè¿™æ‰‡é—¨çš„åŠ åˆ†ä¸º `c` ï¼Œé‚£ä¹ˆä»–ä»¬åˆ†åˆ«åŠ  `c / 2` åˆ†ã€‚
> 
> - å¦‚æœ Alice åˆ°è¾¾äº†ä¸€ä¸ªå¶å­ç»“ç‚¹ï¼Œå¥¹ä¼šåœæ­¢ç§»åŠ¨ã€‚ç±»ä¼¼çš„ï¼Œå¦‚æœ Bob åˆ°è¾¾äº†èŠ‚ç‚¹ `0` ï¼Œä»–ä¹Ÿä¼šåœæ­¢ç§»åŠ¨ã€‚æ³¨æ„è¿™äº›äº‹ä»¶äº’ç›¸ **ç‹¬ç«‹** ï¼Œä¸ä¼šå½±å“å¦ä¸€æ–¹ç§»åŠ¨ã€‚
>
> è¯·ä½ è¿”å› Alice æœæœ€ä¼˜å¶å­ç»“ç‚¹ç§»åŠ¨çš„ **æœ€å¤§** å‡€å¾—åˆ†ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> <img src="../Resources/eg1.png" alt="img" style="zoom:80%;" />
>
> ```
>è¾“å…¥ï¼šedges = [[0,1],[1,2],[1,3],[3,4]], bob = 3, amount = [-2,4,2,-4,6]
> è¾“å‡ºï¼š6
> è§£é‡Šï¼š
> ä¸Šå›¾å±•ç¤ºäº†è¾“å…¥ç»™å‡ºçš„ä¸€æ£µæ ‘ã€‚æ¸¸æˆè¿›è¡Œå¦‚ä¸‹ï¼š
> - Alice ä¸€å¼€å§‹åœ¨èŠ‚ç‚¹ 0 å¤„ï¼ŒBob åœ¨èŠ‚ç‚¹ 3 å¤„ã€‚ä»–ä»¬åˆ†åˆ«æ‰“å¼€æ‰€åœ¨èŠ‚ç‚¹çš„é—¨ã€‚
>   Alice å¾—åˆ†ä¸º -2 ã€‚
> - Alice å’Œ Bob éƒ½ç§»åŠ¨åˆ°èŠ‚ç‚¹ 1 ã€‚
>   å› ä¸ºä»–ä»¬åŒæ—¶åˆ°è¾¾è¿™ä¸ªèŠ‚ç‚¹ï¼Œä»–ä»¬ä¸€èµ·æ‰“å¼€é—¨å¹¶å¹³åˆ†å¾—åˆ†ã€‚
>   Alice çš„å¾—åˆ†å˜ä¸º -2 + (4 / 2) = 0 ã€‚
> - Alice ç§»åŠ¨åˆ°èŠ‚ç‚¹ 3 ã€‚å› ä¸º Bob å·²ç»æ‰“å¼€äº†è¿™æ‰‡é—¨ï¼ŒAlice å¾—åˆ†ä¸å˜ã€‚
>   Bob ç§»åŠ¨åˆ°èŠ‚ç‚¹ 0 ï¼Œå¹¶åœæ­¢ç§»åŠ¨ã€‚
> - Alice ç§»åŠ¨åˆ°èŠ‚ç‚¹ 4 å¹¶æ‰“å¼€è¿™ä¸ªèŠ‚ç‚¹çš„é—¨ï¼Œå¥¹å¾—åˆ†å˜ä¸º 0 + 6 = 6 ã€‚
> ç°åœ¨ï¼ŒAlice å’Œ Bob éƒ½ä¸èƒ½è¿›è¡Œä»»ä½•ç§»åŠ¨äº†ï¼Œæ‰€ä»¥æ¸¸æˆç»“æŸã€‚
> Alice æ— æ³•å¾—åˆ°æ›´é«˜åˆ†æ•°ã€‚
> ```

 

.é¢„å­˜å‚¨åŒå‘è¾¹ã€‚
2.dfsä»0å‡ºå‘ï¼Œå½“åˆ°è¾¾b obèŠ‚ç‚¹æ—¶æ ‡è®°æ‰¾åˆ°è·¯å¾„ï¼Œè¿”å›æ—¶å­˜å‚¨æ²¿è·¯èŠ‚ç‚¹ã€‚
[1]é˜²æ­¢é‡å¤ï¼šå­˜å‚¨ä¸Šæ¬¡åˆ°è¾¾èŠ‚ç‚¹sï¼Œæœ¬æ¬¡kå‰å¾€ç›®çš„åœ°èŠ‚ç‚¹t==såˆ™è·³è¿‡ã€‚
3.bfsåŒæ—¶æ¨¡æ‹ŸAliceä»0å‡ºå‘ï¼ŒBobä»bobå‡ºå‘ã€‚/
[1]é˜²æ­¢é‡å¤ï¼šè®°å¿†æ•°ç»„vè®°å½•æ‰€æœ‰Aliceä¹‹å‰åˆ°è¾¾è¿‡çš„èŠ‚ç‚¹ï¼Œé‡åˆ°åˆ™è·³è¿‡ã€‚
[2]Aliceå½“å‰å¤„äºå¶å­èŠ‚ç‚¹(éæ ¹èŠ‚ç‚¹0)ï¼Œæ ¹æ®è§„åˆ™åœæ­¢ç§»åŠ¨ï¼Œå¹¶åŠ å…¥è®¡ç®—æœ€å¤§å¾—åˆ†ã€‚
[3]Aliceå½“å‰å¤„äºéå¶å­èŠ‚ç‚¹(æˆ–æ ¹èŠ‚ç‚¹0)ï¼Œç§»åŠ¨æ—¶ä¼šæ‰“å¼€å½“å‰èŠ‚ç‚¹å’Œç›®çš„åœ°èŠ‚ç‚¹ä¸¤æ‰‡é—¨ã€‚å¯ä»¥å…ˆå­˜å‚¨å½“å‰èŠ‚ç‚¹å¼€é—¨å¾—åˆ†ï¼Œä¸‹æ¬¡ç§»åŠ¨æ—¶åªå åŠ ç›®çš„åœ°èŠ‚ç‚¹å¼€é—¨å¾—åˆ†ã€‚
[4]å“ˆå¸Œé›†åˆhå­˜å‚¨Bobå½“å‰æ‰€åœ¨èŠ‚ç‚¹å’Œä¹‹å‰å·²ç»å»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒåŒæ—¶å˜é‡yå­˜å‚¨Bobä¸‹ä¸€ä¸ªç›®çš„åœ°èŠ‚ç‚¹ï¼Œè‹¥Aliceç›®çš„åœ°èŠ‚ç‚¹xå­˜åœ¨äºhä¸­åˆ™ä¸æ”¹å˜åˆ†æ•°ï¼Œè‹¥x==yåˆ™å¾—åˆ°æ‰“å¼€ç›¸åŒç›®çš„åœ°é—¨ä¸€åŠçš„åˆ†æ•°ï¼Œè‹¥ä¸å­˜åœ¨äºhä¹Ÿä¸ç­‰äºyï¼Œåˆ™å åŠ ç›®çš„åœ°é—¨å…¨éƒ¨åˆ†æ•°ã€‚

```java
class Solution {
    int n,b,max;
    boolean f;
    int[] a,c;
    Queue<Integer> p;
    List<Integer>[] d;
    public int mostProfitablePath(int[][] edges, int bob, int[] amount) {
        f=false;
        max=Integer.MIN_VALUE;
        n=amount.length;//nä¸ªç»“ç‚¹
        b=bob;//bobæ˜¯bobèµ·å§‹ä½ç½®ç»“ç‚¹
        a=amount;
        c=new int[n];
        d=new List[n];
        p=new ArrayDeque<>();
        for(int i=0;i<n;i++){
            d[i]=new ArrayList<>();
        }
        for(int[] e:edges){
            d[e[0]].add(e[1]);
            d[e[1]].add(e[0]);//æ— å‘å›¾é€šè¿‡[ArrayDeque]å­˜å‚¨
        }
        dfs(0,0);//ä» 0å‡ºå‘ï¼Œæ‰¾åˆ°bobçš„ç»“ç‚¹è¿”å›â€”â€”â€”â€”ã€‹å¾—åˆ°äº†ä»bobåˆ°è¾¾0çš„å®Œæ•´è·¯å¾„
        p.offer(0);
        bfs();
        return max;
    }
    public void dfs(int k,int s){//s æ˜¯çˆ¶ç»“ç‚¹ï¼Œåˆ¤æ–­è·³è¿‡
        for(int t:d[k]){
            if(t==s)continue;
            dfs(t,k);
            if(t==b||f){//ç›´åˆ°æ‰¾åˆ°bobçš„ä½ç½®
                f=true;
                p.offer(t);//å°±å°†è¿™ä¸ªç‚¹ï¼ˆæœ€å¼€å§‹æ˜¯bobçš„ï¼‰å­˜å…¥queueä¸­
                break;//è·³å‡ºçš„æ˜¯æœ¬æ¬¡é€’å½’ï¼Œç„¶åæ²¿è·¯å¾„è¿”å›å›å»ï¼Œè¿™æ ·å†²bobåˆ°0çš„è·¯å¾„éƒ½å­˜å…¥queueä¸­
            }
        }
    }
    public void bfs(){
        Set<Integer> h=new HashSet<>();
        boolean[] v=new boolean[n];//visitedæ•°ç»„
        Queue<int[]> q=new ArrayDeque<>();
        q.offer(new int[]{0,a[0]});
        v[0]=true;
        int y=p.poll();
        h.add(y);
        while(!q.isEmpty()){
            int size=q.size();
            if(!p.isEmpty()){
                y=p.poll();
            }
            while(size!=0){
                int[] x=q.poll();
                if(x[0]!=0&&d[x[0]].size()==1){
                    max=Math.max(max,x[1]);
                }else{
                    for(int t:d[x[0]]){
                        if(v[t])continue;
                        v[t]=true;
                        int z=x[1];
                        if(!h.contains(t)){
                            if(y==t){
                                z+=a[t]/2;
                            }else{
                                z+=a[t];
                            }
                        }
                        q.offer(new int[]{t,z});
                    }
                }
                size--;
            }
            h.add(y);
        }
    }
}

ä½œè€…ï¼šzhy-
é“¾æ¥ï¼šhttps://leetcode.cn/problems/most-profitable-path-in-a-tree/solution/java-by-zhy-pmmwn/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```









### 2468. æ ¹æ®é™åˆ¶åˆ†å‰²æ¶ˆæ¯

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `message` å’Œä¸€ä¸ªæ­£æ•´æ•° `limit` ã€‚
>
> ä½ éœ€è¦æ ¹æ® `limit` å°† `message` **åˆ†å‰²** æˆä¸€ä¸ªæˆ–å¤šä¸ª **éƒ¨åˆ†** ã€‚æ¯ä¸ªéƒ¨åˆ†çš„ç»“å°¾éƒ½æ˜¯ `"<a/b>"` ï¼Œå…¶ä¸­ `"b"` ç”¨åˆ†å‰²å‡ºæ¥çš„æ€»æ•° **æ›¿æ¢**ï¼Œ `"a"` ç”¨å½“å‰éƒ¨åˆ†æ‰€åœ¨çš„ç¼–å· **æ›¿æ¢** ï¼Œç¼–å·ä» `1` åˆ° `b` ä¾æ¬¡ç¼–å·ã€‚é™¤æ­¤ä»¥å¤–ï¼Œé™¤äº†æœ€åä¸€éƒ¨åˆ†é•¿åº¦ **å°äºç­‰äº** `limit` ä»¥å¤–ï¼Œå…¶ä»–æ¯ä¸€éƒ¨åˆ†ï¼ˆåŒ…æ‹¬ç»“å°¾éƒ¨åˆ†ï¼‰çš„é•¿åº¦éƒ½åº”è¯¥ **ç­‰äº** `limit` ã€‚
>
> ä½ éœ€è¦ç¡®ä¿åˆ†å‰²åçš„ç»“æœæ•°ç»„ï¼Œåˆ æ‰æ¯éƒ¨åˆ†çš„ç»“å°¾å¹¶ **æŒ‰é¡ºåº** è¿èµ·æ¥åï¼Œèƒ½å¤Ÿå¾—åˆ° `message` ã€‚åŒæ—¶ï¼Œç»“æœæ•°ç»„è¶ŠçŸ­è¶Šå¥½ã€‚
>
> è¯·ä½ è¿”å› `message` åˆ†å‰²åå¾—åˆ°çš„ç»“æœæ•°ç»„ã€‚å¦‚æœæ— æ³•æŒ‰è¦æ±‚åˆ†å‰² `message` ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šmessage = "this is really a very awesome message", limit = 9
> è¾“å‡ºï¼š["thi<1/14>","s i<2/14>","s r<3/14>","eal<4/14>","ly <5/14>","a v<6/14>","ery<7/14>"," aw<8/14>","eso<9/14>","me<10/14>"," m<11/14>","es<12/14>","sa<13/14>","ge<14/14>"]
> è§£é‡Šï¼š
> å‰é¢ 9 ä¸ªéƒ¨åˆ†åˆ†åˆ«ä» message ä¸­å¾—åˆ° 3 ä¸ªå­—ç¬¦ã€‚
> æ¥ä¸‹æ¥çš„ 5 ä¸ªéƒ¨åˆ†åˆ†åˆ«ä» message ä¸­å¾—åˆ° 2 ä¸ªå­—ç¬¦ã€‚
> è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŒ…å«æœ€åä¸€ä¸ªéƒ¨åˆ†åœ¨å†…ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„é•¿åº¦éƒ½ä¸º 9 ã€‚
> å¯ä»¥è¯æ˜æ²¡æœ‰åŠæ³•åˆ†å‰²æˆå°‘äº 14 ä¸ªéƒ¨åˆ†ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šmessage = "short message", limit = 15
> è¾“å‡ºï¼š["short mess<1/2>","age<2/2>"]
> è§£é‡Šï¼š
> åœ¨ç»™å®šé™åˆ¶ä¸‹ï¼Œå­—ç¬¦ä¸²å¯ä»¥åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼š
> - ç¬¬ä¸€ä¸ªéƒ¨åˆ†åŒ…å« 10 ä¸ªå­—ç¬¦ï¼Œé•¿åº¦ä¸º 15 ã€‚
> - ç¬¬äºŒä¸ªéƒ¨åˆ†åŒ…å« 3 ä¸ªå­—ç¬¦ï¼Œé•¿åº¦ä¸º 8 ã€‚
> ```
>
>  





## 327

### [6284. ä½¿å­—ç¬¦ä¸²æ€»ä¸åŒå­—ç¬¦çš„æ•°ç›®ç›¸ç­‰](https://leetcode.cn/problems/make-number-of-distinct-characters-equal/)

> ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„å­—ç¬¦ä¸² `word1` å’Œ `word2` ã€‚
>
> ä¸€æ¬¡ **ç§»åŠ¨** ç”±ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ç»„æˆï¼š
>
> - é€‰ä¸­ä¸¤ä¸ªä¸‹æ ‡ `i` å’Œ `j` ï¼Œåˆ†åˆ«æ»¡è¶³ `0 <= i < word1.length` å’Œ `0 <= j < word2.length` ï¼Œ
> - äº¤æ¢ `word1[i]` å’Œ `word2[j]` ã€‚
>
> å¦‚æœå¯ä»¥é€šè¿‡ **æ°å¥½ä¸€æ¬¡** ç§»åŠ¨ï¼Œä½¿ `word1` å’Œ `word2` ä¸­ä¸åŒå­—ç¬¦çš„æ•°ç›®ç›¸ç­‰ï¼Œåˆ™è¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šword1 = "ac", word2 = "b"
> è¾“å‡ºï¼šfalse
> è§£é‡Šï¼šäº¤æ¢ä»»ä½•ä¸€ç»„ä¸‹æ ‡éƒ½ä¼šå¯¼è‡´ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰ 2 ä¸ªä¸åŒçš„å­—ç¬¦ï¼Œè€Œåœ¨ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ä¸­åªæœ‰ 1 ä¸ªä¸åŒå­—ç¬¦ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šword1 = "abcc", word2 = "aab"
> è¾“å‡ºï¼štrue
> è§£é‡Šï¼šäº¤æ¢ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸‹æ ‡ 2 å’Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„ä¸‹æ ‡ 0 ã€‚ä¹‹åå¾—åˆ° word1 = "abac" å’Œ word2 = "cab" ï¼Œå„æœ‰ 3 ä¸ªä¸åŒå­—ç¬¦ã€‚
> ```

```java
class Solution {
    public boolean isItPossible(String word1, String word2) {
        int[] num1 = new int[26];
        int[] num2 = new int[26];
        int count1 = 0, count2 = 0;
        for (int i = 0; i < word1.length(); i++) {
            int index = word1.charAt(i) - 'a';
            num1[index]++;
            if (num1[index] == 1) count1++;
        }
        for (int i = 0; i < word2.length(); i++) {
            int index = word2.charAt(i) - 'a';
            num2[index]++;
            if (num2[index] == 1) count2++;
        }
        for (int i = 0; i < 26; i++) {
            if (num1[i] == 0) continue;
            for (int j = 0; j < 26; j++) {
                if (num2[j] == 0) continue;
                int cnt1 = count1, cnt2 = count2;
                if (i == j) {
                    if (cnt1 == cnt2) return true; 
                    continue;
                }
                if (1 == num1[i]) cnt1--;
                if (0 == num1[j]) cnt1++;
                if (1 == num2[j]) cnt2--;
                if (0 == num2[i]) cnt2++;
                if (cnt1 == cnt2) {
                    return true;
                }
            }
        }
        return false;
    }
}
```



## 328

### [6293. ç»Ÿè®¡å¥½å­æ•°ç»„çš„æ•°ç›®](https://leetcode.cn/problems/count-the-number-of-good-subarrays/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ è¿”å› `nums` ä¸­ **å¥½** å­æ•°ç»„çš„æ•°ç›®ã€‚
>
> ä¸€ä¸ªå­æ•°ç»„ `arr` å¦‚æœæœ‰ **è‡³å°‘** `k` å¯¹ä¸‹æ ‡ `(i, j)` æ»¡è¶³ `i < j` ä¸” `arr[i] == arr[j]` ï¼Œé‚£ä¹ˆç§°å®ƒæ˜¯ä¸€ä¸ª **å¥½** å­æ•°ç»„ã€‚
>
> **å­æ•°ç»„** æ˜¯åŸæ•°ç»„ä¸­ä¸€æ®µè¿ç»­ **éç©º** çš„å…ƒç´ åºåˆ—ã€‚
>
>  **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,1,1,1,1], k = 10
> è¾“å‡ºï¼š1
> è§£é‡Šï¼šå”¯ä¸€çš„å¥½å­æ•°ç»„æ˜¯è¿™ä¸ªæ•°ç»„æœ¬èº«ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [3,1,4,3,2,2,4], k = 2
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šæ€»å…±æœ‰ 4 ä¸ªä¸åŒçš„å¥½å­æ•°ç»„ï¼š
> - [3,1,4,3,2,2] æœ‰ 2 å¯¹ã€‚
> - [3,1,4,3,2,2,4] æœ‰ 3 å¯¹ã€‚
> - [1,4,3,2,2,4] æœ‰ 2 å¯¹ã€‚
> - [4,3,2,2,4] æœ‰ 2 å¯¹ã€‚
> ```

```java
//æ»‘åŠ¨çª—å£
class Solution {
    public long countGood(int[] nums, int k) {
        int len = nums.length;
        long res = 0;
        Map<Integer, Integer> map = new HashMap<>();
        int l = 0, r = 0, cnt = 0;
        // æ‰©å±•å³è¾¹ç•Œï¼Œè®¡æ•°å¤šmap[nums[r]]ç»„
        while (r < len) {
            cnt += map.getOrDefault(nums[r], 0);
            map.put(nums[r], map.getOrDefault(nums[r], 0) + 1);
            r++;
            // å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä»[l,r]è‡³[l,len]çš„å‡ç¬¦åˆæ¡ä»¶ï¼Œç­”æ¡ˆåŠ ä¸Šlen - r + 1
            // åŒæ—¶å°è¯•æ”¶ç¼©å·¦è¾¹ç•Œï¼Œè®¡æ•°å°‘map[nums[l]]ç»„ï¼Œ
            while (cnt >= k) {
                res += len - r + 1;//ä»å½“å‰å¼€å§‹ä¸€ç›´åˆ°ç»“æŸçš„æ•°ç»„éƒ½æœ‰æ•ˆ
                map.put(nums[l], map.getOrDefault(nums[l], 0) - 1);//æ”¶ç¼©è¿‡ç¨‹//æ¯æ”¶ç¼©ä¸€æ¬¡éƒ½èƒ½é‡æ–°åŠ è¿›å»ï¼Œç›´åˆ°æ¡ä»¶ä¸è¶³
                cnt -= map.get(nums[l]);
                l++;
            }
        }
        return res;
    }
}
```

