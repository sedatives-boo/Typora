

ğŸ”ğŸŸ¥ğŸŸ©

## ğŸ†š320

### [6243. åˆ°è¾¾é¦–éƒ½çš„æœ€å°‘æ²¹è€—](https://leetcode.cn/problems/minimum-fuel-cost-to-report-to-the-capital/)ğŸŸ¥

> ç»™ä½ ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ˆä¸€ä¸ªæ— å‘ã€è¿é€šã€æ— ç¯å›¾ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåŸå¸‚ï¼Œç¼–å·ä» `0` åˆ° `n - 1` ï¼Œä¸”æ°å¥½æœ‰ `n - 1` æ¡è·¯ã€‚`0` æ˜¯é¦–éƒ½ã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ `roads` ï¼Œå…¶ä¸­ `roads[i] = [ai, bi]` ï¼Œè¡¨ç¤ºåŸå¸‚ `ai` å’Œ `bi` ä¹‹é—´æœ‰ä¸€æ¡ **åŒå‘è·¯** ã€‚
>
> æ¯ä¸ªåŸå¸‚é‡Œæœ‰ä¸€ä¸ªä»£è¡¨ï¼Œä»–ä»¬éƒ½è¦å»é¦–éƒ½å‚åŠ ä¸€ä¸ªä¼šè®®ã€‚
>
> æ¯åº§åŸå¸‚é‡Œæœ‰ä¸€è¾†è½¦ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•° `seats` è¡¨ç¤ºæ¯è¾†è½¦é‡Œé¢åº§ä½çš„æ•°ç›®ã€‚
>
> åŸå¸‚é‡Œçš„ä»£è¡¨å¯ä»¥é€‰æ‹©ä¹˜åæ‰€åœ¨åŸå¸‚çš„è½¦ï¼Œæˆ–è€…ä¹˜åå…¶ä»–åŸå¸‚çš„è½¦ã€‚ç›¸é‚»åŸå¸‚ä¹‹é—´ä¸€è¾†è½¦çš„æ²¹è€—æ˜¯ä¸€å‡æ±½æ²¹ã€‚
>
> è¯·ä½ è¿”å›åˆ°è¾¾é¦–éƒ½æœ€å°‘éœ€è¦å¤šå°‘å‡æ±½æ²¹ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> <img src="../Resources/a4c380025e3ff0c379525e96a7d63a3.png" alt="img" style="zoom:67%;" />
>
> ```
> è¾“å…¥ï¼šroads = [[0,1],[0,2],[0,3]], seats = 5
> è¾“å‡ºï¼š3
> è§£é‡Šï¼š
> - ä»£è¡¨ 1 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 2 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 3 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> æœ€å°‘æ¶ˆè€— 3 å‡æ±½æ²¹ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> <img src="../Resources/2.png" alt="img" style="zoom:67%;" />
>
> ```
> è¾“å…¥ï¼šroads = [[3,1],[3,2],[1,0],[0,4],[0,5],[4,6]], seats = 2
> è¾“å‡ºï¼š7
> è§£é‡Šï¼š
> - ä»£è¡¨ 2 åˆ°è¾¾åŸå¸‚ 3 ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 2 å’Œä»£è¡¨ 3 ä¸€èµ·åˆ°è¾¾åŸå¸‚ 1 ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 2 å’Œä»£è¡¨ 3 ä¸€èµ·åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 1 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 5 ç›´æ¥åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 6 åˆ°è¾¾åŸå¸‚ 4 ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> - ä»£è¡¨ 4 å’Œä»£è¡¨ 6 ä¸€èµ·åˆ°è¾¾é¦–éƒ½ï¼Œæ¶ˆè€— 1 å‡æ±½æ²¹ã€‚
> æœ€å°‘æ¶ˆè€— 7 å‡æ±½æ²¹ã€‚
> ```

```java
class Solution {
    List<Integer>[] edges = new List[100010];
    long ret = 0;
    public long minimumFuelCost(int[][] roads, int seats) {
        for(int i = 0 ; i < 100010 ; i ++){
            edges[i] = new ArrayList<>();
        }
        for(int i = 0 ; i < roads.length ; i ++){
            edges[roads[i][0]].add(roads[i][1]);
            edges[roads[i][1]].add(roads[i][0]);
        }
        for(int i = 0 ; i < edges[0].size() ; i++){
            dfs(edges[0].get(i) ,0,seats);//èµ·å§‹ä½ç½®ï¼š0å·ï¼Œéå†0è¿æ¥çš„èŠ‚ç‚¹DFSï¼Œå³1å’Œ4
        }
        
        return ret;
    }
    int dfs(int cur , int fa ,int seat){
        int all = 1;
        for(int i = 0 ; i < edges[cur].size() ; i ++){
            if(edges[cur].get(i) == fa) continue;
            all += dfs(edges[cur].get(i) , cur , seat);//å­æ ‘çš„ä¸ªæ•°
        }
        ret = ret +(all + seat - 1) / seat;
        return all;
    }
}
```

å…¶ä»–æ–¹æ³•ï¼šæ‹†åˆ†æˆä»¥0ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘

<img src="../Resources/1668949731-hWioKe-1.png" alt="1.png" style="zoom: 67%;" />

```java
class Solution {
    long ans = 0;
    public long minimumFuelCost(int[][] roads, int seats) {
        int n = roads.length + 1;
        List<List<Integer>> map = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            map.add(new ArrayList<>());
        }
        for (int i = 0; i < roads.length; i++) {
            map.get(roads[i][0]).add(roads[i][1]);
            map.get(roads[i][1]).add(roads[i][0]);
        }
        dfs(map,0,-1,seats);
        return ans;
    }

    public int dfs(List<List<Integer>> map,int cur,int father,int seats){
        int size = 1;
        for (int node : map.get(cur)){
            if (node != father){
                size += dfs(map,node,cur,seats);
            }
        }
        if (cur != 0) ans+=(int)Math.ceil((double) size/seats);
        return size;
    }
}
```

```java
long ans;
    public long minimumFuelCost(int[][] roads, int seats) {
        ans = 0;
        int n = roads.length + 1;
        List<Integer>[] graph = new List[n];
        for (int i = 0; i < n; i++) {
            graph[i] = new ArrayList<>();
        }
        for (int[] road : roads) {
            graph[road[0]].add(road[1]);
            graph[road[1]].add(road[0]);
        }
        BiFunction<Integer, Integer, Integer> function = new BiFunction<Integer, Integer, Integer>() {
            @Override
            public Integer apply(Integer x, Integer fa) {
                int ret = 1;
                for (int c : graph[x]) {
                    if (c != fa) {
                        ret += apply(c, x);
                    }
                }
                if (x != 0) {
                    ans += (ret + seats - 1) / seats;
                }
                return ret;
            }
        };
        function.apply(0, -1);
        return ans;
    }
```

```java
class Solution {
    List<Integer>[] g;
    long res;
    int seats;
    public long minimumFuelCost(int[][] roads, int seats) {
        if(roads.length==0){
            return 0L;
        }
        int num=0;
        this.seats=seats;
        for(int i=0;i<roads.length;i++){
            for(int j=0;j<2;j++){
                num=Math.max(num, roads[i][j]);
            }
        }

        g=new List[num+1];
        for(int i=0;i<roads.length;i++){
            if(g[roads[i][0]]==null){
                g[roads[i][0]]=new ArrayList<>();
            }
            if(g[roads[i][1]]==null){
                g[roads[i][1]]=new ArrayList<>();
            }
            g[roads[i][0]].add(roads[i][1]);
            g[roads[i][1]].add(roads[i][0]);
        }

        dfs(0,-1);
        return res;
    }

    public long dfs(int i, int fa){
        List<Integer> ch=g[i];
        long subres=1L;
        for(int j=0;j<ch.size();j++){
            if(ch.get(j)!=fa){
                subres += dfs(ch.get(j), i);
            }
        }
        if(i!=0){
            res+=(long)Math.ceil(((double)subres)/seats);
        }
        return subres;
    }

}
```

### [2478. å®Œç¾åˆ†å‰²çš„æ–¹æ¡ˆæ•°](https://leetcode.cn/problems/number-of-beautiful-partitions/)

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ¯ä¸ªå­—ç¬¦æ˜¯æ•°å­— `'1'` åˆ° `'9'` ï¼Œå†ç»™ä½ ä¸¤ä¸ªæ•´æ•° `k` å’Œ `minLength` ã€‚
>
> å¦‚æœå¯¹ `s` çš„åˆ†å‰²æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ª **å®Œç¾** åˆ†å‰²ï¼š
>
> - `s` è¢«åˆ†æˆ `k` æ®µäº’ä¸ç›¸äº¤çš„å­å­—ç¬¦ä¸²ã€‚
> - æ¯ä¸ªå­å­—ç¬¦ä¸²é•¿åº¦éƒ½ **è‡³å°‘** ä¸º `minLength` ã€‚
> - æ¯ä¸ªå­å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ª **è´¨æ•°** æ•°å­—ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦éƒ½æ˜¯ä¸€ä¸ª **éè´¨æ•°** æ•°å­—ã€‚è´¨æ•°æ•°å­—ä¸º `'2'` ï¼Œ`'3'` ï¼Œ`'5'` å’Œ `'7'` ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯éè´¨æ•°æ•°å­—ã€‚
>
> è¯·ä½ è¿”å› `s` çš„ **å®Œç¾** åˆ†å‰²æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¿”å›ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™** åçš„ç»“æœã€‚
>
> ä¸€ä¸ª **å­å­—ç¬¦ä¸²** æ˜¯å­—ç¬¦ä¸²ä¸­ä¸€æ®µè¿ç»­å­—ç¬¦ä¸²åºåˆ—ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "23542185131", k = 3, minLength = 2
> è¾“å‡ºï¼š3
> è§£é‡Šï¼šå­˜åœ¨ 3 ç§å®Œç¾åˆ†å‰²æ–¹æ¡ˆï¼š
> "2354 | 218 | 5131"
> "2354 | 21851 | 31"
> "2354218 | 51 | 31"
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "23542185131", k = 3, minLength = 3
> è¾“å‡ºï¼š1
> è§£é‡Šï¼šå­˜åœ¨ä¸€ç§å®Œç¾åˆ†å‰²æ–¹æ¡ˆï¼š"2354 | 218 | 5131" ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "3312958", k = 3, minLength = 1
> è¾“å‡ºï¼š1
> è§£é‡Šï¼šå­˜åœ¨ä¸€ç§å®Œç¾åˆ†å‰²æ–¹æ¡ˆï¼š"331 | 29 | 58" ã€‚
> ```

## â™ˆåŒ92

### 2484. ç»Ÿè®¡å›æ–‡å­åºåˆ—æ•°ç›®ğŸŸ¥

> ç»™ä½ æ•°å­—å­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ è¿”å› `s` ä¸­é•¿åº¦ä¸º `5` çš„ **å›æ–‡å­åºåˆ—** æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†ç­”æ¡ˆå¯¹ `109 + 7` **å–ä½™** åè¿”å›ã€‚
>
> **æç¤ºï¼š**
>
> - å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä»å‰å¾€åå’Œä»åå¾€å‰è¯»ç›¸åŒï¼Œé‚£ä¹ˆå®ƒæ˜¯ **å›æ–‡å­—ç¬¦ä¸²** ã€‚
> - å­åºåˆ—æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åˆ é™¤è‹¥å¹²ä¸ªå­—ç¬¦åï¼Œä¸æ”¹å˜å­—ç¬¦é¡ºåºï¼Œå‰©ä½™å­—ç¬¦æ„æˆçš„å­—ç¬¦ä¸²ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "103301"
> è¾“å‡ºï¼š2
> è§£é‡Šï¼š
> æ€»å…±æœ‰ 6 é•¿åº¦ä¸º 5 çš„å­åºåˆ—ï¼š"10330" ï¼Œ"10331" ï¼Œ"10301" ï¼Œ"10301" ï¼Œ"13301" ï¼Œ"03301" ã€‚
> å®ƒä»¬ä¸­æœ‰ä¸¤ä¸ªï¼ˆéƒ½æ˜¯ "10301"ï¼‰æ˜¯å›æ–‡çš„ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "0000000"
> è¾“å‡ºï¼š21
> è§£é‡Šï¼šæ‰€æœ‰ 21 ä¸ªé•¿åº¦ä¸º 5 çš„å­åºåˆ—éƒ½æ˜¯ "00000" ï¼Œéƒ½æ˜¯å›æ–‡çš„ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "9999900000"
> è¾“å‡ºï¼š2
> è§£é‡Šï¼šä»…æœ‰çš„ä¸¤ä¸ªå›æ–‡å­åºåˆ—æ˜¯ "99999" å’Œ "00000" ã€‚
> ```

```java
//æœ€ç®€å•ç†è§£
class Solution {
    public int countPalindromes(String s) {
        int ans = 0;
        //é•¿åº¦ä¸º5 çš„å›æ–‡ä¸²ï¼Œåªè¦è€ƒè™‘å‰ä¸‰ä¸ªå­—æ¯ï¼Œç„¶åå‰ä¸‰å­—æ¯æšä¸¾0--9ï¼Œå…±æœ‰10^3ç§ã€
        //æšä¸¾åæ‰¾åœ¨sä¸­çš„æ•°é‡ï¼ŒåŸé¢˜ 115.ä¸åŒå­åºåˆ—
        for (char a = '0'; a <= '9'; ++a) {
            for (char b = '0'; b <= '9'; ++b) {
                for (char c = '0'; c <= '9'; ++c) {
                    String t = new String(new char[]{a, b, c, b, a});
                    ans += dp2(s, t);
                    ans %= 1000000007;
                }
            }
        }
        return ans;
    }
    // åŸç‰ˆDP
   /*
   	dp[i][j] ç”± dp[i-1][?] é€’æ¨å¾—æ¥ï¼Œè€ƒè™‘dp[i-1][j-1],dp[i-1][j] ä¸ dp[i][j] å…³ç³»
   		å¦‚æœ s[i] å’Œ t[j] ä¸ç›¸ç­‰ï¼Œåˆ™s[i-1] å’Œ s[i]  æ˜¯ä¸€æ ·ã€‚ dp[i][j] = dp[i-1][j]
   		å¦‚æœ s[i] å’Œ t[j] ç›¸ç­‰ :
   			å‡è®¾s_iä¸­æ‰€æœ‰t_jå­åºåˆ—ä¸­ï¼ŒåŒ…å«s[i]çš„æœ‰aä¸ªï¼Œä¸åŒ…å«çš„æœ‰bä¸ªï¼Œ
   			s_iä¸­åŒ…å« s[i]çš„å­åºåˆ—ä¸ªæ•°ç›¸å½“äºs_iä¸­t_j-1çš„ä¸ªæ•°ï¼Œä¸åŒ…å«s[i] çš„æƒ…å†µå’Œä¸Šé¢ä¸€æ ·
   			dp[i][j] = dp[i-1][j-1] +dp[i-1][j]
   */
    
    //è®²ä¸‹ä¸ªäººç†è§£ï¼šè¿™é¢˜å¯ä»¥çœ‹ä½œä¸€ä¸ª01èƒŒåŒ…é—®é¢˜ sä¸²æ˜¯ç‰©å“ï¼Œtä¸²æ˜¯èƒŒåŒ…ã€‚slæ˜¯sä¸²çš„é•¿åº¦ï¼Œtlæ˜¯tä¸²çš„é•¿åº¦ã€‚é‚£ä¹ˆé¢˜ç›®å¯ä»¥è½¬æˆä»sä¸²ä¸­ä»»é€‰tlä¸ªå­—ç¬¦å¯ä»¥æ‹¼æˆtä¸²çš„ç»„åˆä¸ªæ•°ã€‚ æˆ‘ä»¬å®šä¹‰dp[i][j] ä¸ºä»sä¸²ä¸­çš„å‰iå­—ç¬¦ä¸­ä»»é€‰jä¸ªå­—ç¬¦å¯ä»¥æ‹¼æˆtä¸²å‰jä¸ªå­—ç¬¦è¡¨ç¤ºçš„å­ä¸²çš„ç»„åˆæ•°ã€‚ é‚£ä¹ˆæŒ‰ç…§èƒŒåŒ…é—®é¢˜çš„æ­¥éª¤å¯¹sä¸²çš„ç¬¬iä¸ªå­—ç¬¦æˆ‘ä»¬æœ‰ä¸¤ç§é€‰æ‹©ï¼š 1.ä¸é€‰æ‹©ç¬¬iä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆdp[i][j] = dp[i - 1][j] 2.é€‰æ‹©ç¬¬iä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå½“s[i] == t[j]çš„æƒ…å†µä¸‹dp[i][j] = dp[i - 1][j - 1] ç»¼åˆä¸¤ç§æƒ…å†µå¯ä»¥å¾—åˆ° dp[i][j] = dp[i - 1][j] + dp[i - 1][j - 1](s[i] == t[j]) è¾¹ç•Œæ¡ä»¶dp[i][0] = 1, å³ä¸º j == 1 && s[i] == t[j] 
    static int dp1(String s, String t) {
        int n = s.length(), m = t.length();
        int[][] f = new int[n + 1][m + 1];//dp[i][j] è¡¨ç¤ºså‰iå­—ç¬¦ä¸­tå‰jå­—ç¬¦å­åºåˆ—ä¸ªæ•°
        f[0][0] = 1;
        for (int i = 1; i <= n; ++i) {
            f[i][0] = 1; //s_i ä¸­ j_0 çš„ä¸ªæ•°ï¼Œå®šä¹‰ä¸º1
            for (int j = 1; j <= m; ++j) {
                f[i][j] = f[i - 1][j];
                if (s.charAt(i - 1) == t.charAt(j - 1)) {
                    f[i][j] += f[i - 1][j - 1];
                    f[i][j] %= 1000000007;
                }
            }
        }
        return f[n][m];
    }
    // ç©ºé—´ä¼˜åŒ–ç‰ˆDP
    static int dp2(String s, String t) {
        int n = s.length(), m = t.length();
        int[] f = new int[m + 1];
        f[0] = 1;
        for (int i = 1; i <= n; ++i) {
            for (int j = m; j >= 1; --j) {
                if (s.charAt(i - 1) == t.charAt(j - 1)) {
                    f[j] += f[j - 1];
                    f[j] %= 1000000007;
                }
            }
        }
        return f[m];
    }
}
```



```java
class Solution {
    private static final long MOD = (long) 1e9 + 7;

    public int countPalindromes(String S) {
        var s = S.toCharArray();
        int[] pre = new int[10], suf = new int[10];
        int[][] pre2 = new int[10][10], suf2 = new int[10][10];
        for (var i = s.length - 1; i >= 0; --i) {
            var d = s[i] - '0';
            for (var j = 0; j < 10; ++j)
                suf2[d][j] += suf[j];
            ++suf[d];
        }

        var ans = 0L;
        for (var d : s) {
            d -= '0';
            --suf[d];
            for (var j = 0; j < 10; ++j)
                suf2[d][j] -= suf[j]; // æ’¤é”€
            for (var j = 0; j < 10; ++j)
                for (var k = 0; k < 10; ++k)
                    ans += (long) pre2[j][k] * suf2[j][k]; // æšä¸¾æ‰€æœ‰å­—ç¬¦ç»„åˆ
            for (var j = 0; j < 10; ++j)
                pre2[d][j] += pre[j];
            ++pre[d];
        }
        return (int) (ans % MOD);
    }
}

ä½œè€…ï¼šendlesscheng
é“¾æ¥ï¼šhttps://leetcode.cn/problems/count-palindromic-subsequences/solution/qian-hou-zhui-fen-jie-o100-chang-shu-kon-51cv/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

```java
class Solution {
    public int countPalindromes(String s) {
        char[] chars=s.toCharArray();
        long[] pre=new long[10],suf=new long[10];
        long[][] prePre=new long[10][10],sufSuf=new long[10][10];
        for(int i=s.length()-1;i>=0;i--){
            int num=s.charAt(i)-'0';
            for(int j=0;j<10;j++){
                sufSuf[num][j]+=suf[j];
            }
            suf[num]++;
        }
        long res=0;
        for(int i=0;i<s.length();i++){
            int num=s.charAt(i)-'0';
            suf[num]--;
            for(int j=0;j<10;j++){
                sufSuf[num][j]-=suf[j];
            }
            for(int j=0;j<10;j++){
                for(int k=0;k<10;k++){
                    res+=prePre[j][k]*sufSuf[j][k];
                }
            }
            for(int j=0;j<10;j++){
                prePre[num][j]+=pre[j];
            }
            pre[num]++;
        }
        return (int)(res%1_000_000_007);
    }
}
```

```java
//è½¬ long
class Solution {
    int mod = (int) 1e9 + 7;

    public int countPalindromes(String s) {
        char[] cs = s.toCharArray();
        int n = cs.length;
        long ans = 0L;
        int[][] cntP = new int[n + 1][10], cntPos = new int[n + 1][10];
        for (int i = 1; i <= n; i++) {
            System.arraycopy(cntP[i - 1], 0, cntP[i], 0, 10);
            cntP[i][cs[i - 1] - '0']++;
        }
        for (int i = n - 2; i >= 0; i--) {
            System.arraycopy(cntPos[i + 1], 0, cntPos[i], 0, 10);
            cntPos[i][cs[i + 1] - '0']++;
        }
        int[][][] cnt1 = new int[n][10][10], cnt2 = new int[n][10][10];
        for (int i = 1; i < n; i++) {
            for (int j = 0; j < 10; j++) System.arraycopy(cnt1[i - 1][j], 0, cnt1[i][j], 0, 10);
            for (int j = 0; j < 10; j++) {
                cnt1[i][j][cs[i] - '0'] = (cnt1[i][j][cs[i] - '0'] + cntP[i][j]) % mod;
            }
        }
        for (int i = n - 2; i >= 0; i--) {
            for (int j = 0; j < 10; j++) System.arraycopy(cnt2[i + 1][j], 0, cnt2[i][j], 0, 10);
            for (int j = 0; j < 10; j++) {
                cnt2[i][cs[i] - '0'][j] = (cnt2[i][cs[i] - '0'][j] + cntPos[i][j]) % mod; 
            }
        }
        for (int i = 1; i < n - 1; i++) {
            for (int j = 0; j < 10; j++) {
                for (int k = 0; k < 10; k++) {
                    ans = (ans + ((long)cnt1[i - 1][j][k] * cnt2[i + 1][k][j])) % mod;
                }
            }
        }
        return (int) (ans % mod);
    }
}
```

#### 1930

#### 115

## 321

### [2487. ä»é“¾è¡¨ä¸­ç§»é™¤èŠ‚ç‚¹ğŸŸ¥](https://leetcode.cn/problems/remove-nodes-from-linked-list/)

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head` ã€‚
>
> å¯¹äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ `node` ï¼Œå¦‚æœå…¶å³ä¾§å­˜åœ¨ä¸€ä¸ªå…·æœ‰ **ä¸¥æ ¼æ›´å¤§** å€¼çš„èŠ‚ç‚¹ï¼Œåˆ™ç§»é™¤ `node` ã€‚
>
> è¿”å›ä¿®æ”¹åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ `head` ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2022/10/02/drawio.png)
>
> ```
> è¾“å…¥ï¼šhead = [5,2,13,3,8]
> è¾“å‡ºï¼š[13,8]
> è§£é‡Šï¼šéœ€è¦ç§»é™¤çš„èŠ‚ç‚¹æ˜¯ 5 ï¼Œ2 å’Œ 3 ã€‚
> - èŠ‚ç‚¹ 13 åœ¨èŠ‚ç‚¹ 5 å³ä¾§ã€‚
> - èŠ‚ç‚¹ 13 åœ¨èŠ‚ç‚¹ 2 å³ä¾§ã€‚
> - èŠ‚ç‚¹ 8 åœ¨èŠ‚ç‚¹ 3 å³ä¾§ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šhead = [1,1,1,1]
> è¾“å‡ºï¼š[1,1,1,1]
> è§£é‡Šï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 1 ï¼Œæ‰€ä»¥æ²¡æœ‰éœ€è¦ç§»é™¤çš„èŠ‚ç‚¹ã€‚
> ```

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode removeNodes(ListNode head) {
        if(head.next==null){
            return head;
        }

        ListNode temp = removeNodes(head.next);

        if(temp.val>head.val){
            return temp;
        }
        head.next = temp;
        return head;
    }
}
```

### [2488. ç»Ÿè®¡ä¸­ä½æ•°ä¸º K çš„å­æ•°ç»„](https://leetcode.cn/problems/count-subarrays-with-median-k/)

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ `nums` ï¼Œè¯¥æ•°ç»„ç”±ä» `1` åˆ° `n` çš„ **ä¸åŒ** æ•´æ•°ç»„æˆã€‚å¦ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° `k` ã€‚
>
> ç»Ÿè®¡å¹¶è¿”å› `num` ä¸­çš„ **ä¸­ä½æ•°** ç­‰äº `k` çš„éç©ºå­æ•°ç»„çš„æ•°ç›®ã€‚
>
> **æ³¨æ„ï¼š**
>
> - æ•°ç»„çš„ä¸­ä½æ•°æ˜¯æŒ‰ é€’å¢é¡ºåºæ’åˆ—åä½äºä¸­é—´çš„é‚£ä¸ªå…ƒç´ ï¼Œå¦‚æœæ•°ç»„é•¿åº¦ä¸ºå¶æ•°ï¼Œåˆ™ä¸­ä½æ•°æ˜¯ä½äºä¸­é—´é å·¦çš„é‚£ä¸ªå…ƒç´ ã€‚
>     - ä¾‹å¦‚ï¼Œ`[2,3,1,4]` çš„ä¸­ä½æ•°æ˜¯ `2` ï¼Œ`[8,4,3,5,1]` çš„ä¸­ä½æ•°æ˜¯ `4` ã€‚
> - å­æ•°ç»„æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚
>
>  **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [3,2,1,4,5], k = 4
> è¾“å‡ºï¼š3
> è§£é‡Šï¼šä¸­ä½æ•°ç­‰äº 4 çš„å­æ•°ç»„æœ‰ï¼š[4]ã€[4,5] å’Œ [1,4,5] ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,3,1], k = 3
> è¾“å‡ºï¼š1
> è§£é‡Šï¼š[3] æ˜¯å”¯ä¸€ä¸€ä¸ªä¸­ä½æ•°ç­‰äº 3 çš„å­æ•°ç»„ã€‚
> ```

