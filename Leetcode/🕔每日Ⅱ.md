ğŸ”´ğŸ”âœ…

### 11/12 [790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º](https://leetcode.cn/problems/domino-and-tromino-tiling/)ğŸ”´

> æœ‰ä¸¤ç§å½¢çŠ¶çš„ç“·ç –ï¼šä¸€ç§æ˜¯ `2 x 1` çš„å¤šç±³è¯ºå½¢ï¼Œå¦ä¸€ç§æ˜¯å½¢å¦‚ "L" çš„æ‰˜ç±³è¯ºå½¢ã€‚ä¸¤ç§å½¢çŠ¶éƒ½å¯ä»¥æ—‹è½¬ã€‚
>
> <img src="../Resources/lc-domino.jpg" alt="img" style="zoom:80%;" />
>
> ç»™å®šæ•´æ•° n ï¼Œè¿”å›å¯ä»¥å¹³é“º `2 x n` çš„é¢æ¿çš„æ–¹æ³•çš„æ•°é‡ã€‚**è¿”å›å¯¹** `109 + 7` **å–æ¨¡** çš„å€¼ã€‚
>
> å¹³é“ºæŒ‡çš„æ˜¯æ¯ä¸ªæ­£æ–¹å½¢éƒ½å¿…é¡»æœ‰ç“·ç –è¦†ç›–ã€‚ä¸¤ä¸ªå¹³é“ºä¸åŒï¼Œå½“ä¸”ä»…å½“é¢æ¿ä¸Šæœ‰å››ä¸ªæ–¹å‘ä¸Šçš„ç›¸é‚»å•å…ƒä¸­çš„ä¸¤ä¸ªï¼Œä½¿å¾—æ°å¥½æœ‰ä¸€ä¸ªå¹³é“ºæœ‰ä¸€ä¸ªç“·ç –å æ®ä¸¤ä¸ªæ­£æ–¹å½¢ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> <img src="../Resources/lc-domino1.jpg" alt="img" style="zoom:67%;" />
>
> ```
> è¾“å…¥: n = 3
> è¾“å‡º: 5
> è§£é‡Š: äº”ç§ä¸åŒçš„æ–¹æ³•å¦‚ä¸Šæ‰€ç¤ºã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: n = 1
> è¾“å‡º: 1
> ```

### [805. æ•°ç»„çš„å‡å€¼åˆ†å‰²](https://leetcode.cn/problems/split-array-with-same-average/)ğŸ”´

> ç»™å®šä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`
>
> æˆ‘ä»¬è¦å°† `nums` æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç§»åŠ¨åˆ° `A` æ•°ç»„ æˆ–è€… `B` æ•°ç»„ä¸­ï¼Œä½¿å¾— `A` æ•°ç»„å’Œ `B` æ•°ç»„ä¸ä¸ºç©ºï¼Œå¹¶ä¸” `average(A) == average(B)` ã€‚
>
> å¦‚æœå¯ä»¥å®Œæˆåˆ™è¿”å›`true` ï¼Œ å¦åˆ™è¿”å› `false` ã€‚
>
> **æ³¨æ„ï¼š**å¯¹äºæ•°ç»„ `arr` ,  `average(arr)` æ˜¯ `arr` çš„æ‰€æœ‰å…ƒç´ é™¤ä»¥ `arr` é•¿åº¦çš„å’Œã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: nums = [1,2,3,4,5,6,7,8]
> è¾“å‡º: true
> è§£é‡Š: æˆ‘ä»¬å¯ä»¥å°†æ•°ç»„åˆ†å‰²ä¸º [1,4,5,8] å’Œ [2,3,6,7], ä»–ä»¬çš„å¹³å‡å€¼éƒ½æ˜¯4.5ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: nums = [3,1]
> è¾“å‡º: false
> ```

### 11.15/[1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°ğŸ”](https://leetcode.cn/problems/maximum-units-on-a-truck/)

> è¯·ä½ å°†ä¸€äº›ç®±å­è£…åœ¨ **ä¸€è¾†å¡è½¦** ä¸Šã€‚ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ `boxTypes` ï¼Œå…¶ä¸­ `boxTypes[i] = [numberOfBoxesi, numberOfUnitsPerBoxi]` ï¼š
>
> - `numberOfBoxesi` æ˜¯ç±»å‹ `i` çš„ç®±å­çš„æ•°é‡ã€‚
> - `numberOfUnitsPerBoxi` æ˜¯ç±»å‹ `i` æ¯ä¸ªç®±å­å¯ä»¥è£…è½½çš„å•å…ƒæ•°é‡ã€‚
>
> æ•´æ•° `truckSize` è¡¨ç¤ºå¡è½¦ä¸Šå¯ä»¥è£…è½½ **ç®±å­** çš„ **æœ€å¤§æ•°é‡** ã€‚åªè¦ç®±å­æ•°é‡ä¸è¶…è¿‡ `truckSize` ï¼Œä½ å°±å¯ä»¥é€‰æ‹©ä»»æ„ç®±å­è£…åˆ°å¡è½¦ä¸Šã€‚
>
> è¿”å›å¡è½¦å¯ä»¥è£…è½½ **å•å…ƒ** çš„ **æœ€å¤§** æ€»æ•°*ã€‚*
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šboxTypes = [[1,3],[2,2],[3,1]], truckSize = 4
> è¾“å‡ºï¼š8
> è§£é‡Šï¼šç®±å­çš„æƒ…å†µå¦‚ä¸‹ï¼š
> - 1 ä¸ªç¬¬ä¸€ç±»çš„ç®±å­ï¼Œé‡Œé¢å« 3 ä¸ªå•å…ƒã€‚
> - 2 ä¸ªç¬¬äºŒç±»çš„ç®±å­ï¼Œæ¯ä¸ªé‡Œé¢å« 2 ä¸ªå•å…ƒã€‚
> - 3 ä¸ªç¬¬ä¸‰ç±»çš„ç®±å­ï¼Œæ¯ä¸ªé‡Œé¢å« 1 ä¸ªå•å…ƒã€‚
> å¯ä»¥é€‰æ‹©ç¬¬ä¸€ç±»å’Œç¬¬äºŒç±»çš„æ‰€æœ‰ç®±å­ï¼Œä»¥åŠç¬¬ä¸‰ç±»çš„ä¸€ä¸ªç®±å­ã€‚
> å•å…ƒæ€»æ•° = (1 * 3) + (2 * 2) + (1 * 1) = 8
> ```

è®¡æ•°æ’åºï¼šå¾ˆå¥½çš„æ–¹æ³•ï¼

```java
class Solution {
    public int maximumUnits(int[][] boxTypes, int truckSize) {
        int count = 0;
		int[] ans = new int[1001];
		for (int[] is : boxTypes) {
			ans[is[1]] += is[0];
		}
		for (int i = ans.length - 1; i > 0; i--) {
			if (ans[i] != 0) {
				if (truckSize > ans[i]) {
					count += ans[i] * i;
					truckSize -= ans[i];
				} else {
					return count + truckSize * i;
				}
			}
		}
		return count;
    }
}
```

### 11.16/[775. å…¨å±€å€’ç½®ä¸å±€éƒ¨å€’ç½®ğŸ”´](https://leetcode.cn/problems/global-and-local-inversions/)

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œè¡¨ç¤ºç”±èŒƒå›´ `[0, n - 1]` å†…æ‰€æœ‰æ•´æ•°ç»„æˆçš„ä¸€ä¸ªæ’åˆ—ã€‚
>
> **å…¨å±€å€’ç½®** çš„æ•°ç›®ç­‰äºæ»¡è¶³ä¸‹è¿°æ¡ä»¶ä¸åŒä¸‹æ ‡å¯¹ `(i, j)` çš„æ•°ç›®ï¼š
>
> - `0 <= i < j < n`
> - `nums[i] > nums[j]`
>
> **å±€éƒ¨å€’ç½®** çš„æ•°ç›®ç­‰äºæ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„ä¸‹æ ‡ `i` çš„æ•°ç›®ï¼š
>
> - `0 <= i < n - 1`
> - `nums[i] > nums[i + 1]`
>
> å½“æ•°ç»„ `nums` ä¸­ **å…¨å±€å€’ç½®** çš„æ•°é‡ç­‰äº **å±€éƒ¨å€’ç½®** çš„æ•°é‡æ—¶ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,0,2]
> è¾“å‡ºï¼štrue
> è§£é‡Šï¼šæœ‰ 1 ä¸ªå…¨å±€å€’ç½®ï¼Œå’Œ 1 ä¸ªå±€éƒ¨å€’ç½®ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1,2,0]
> è¾“å‡ºï¼šfalse
> è§£é‡Šï¼šæœ‰ 2 ä¸ªå…¨å±€å€’ç½®ï¼Œå’Œ 1 ä¸ªå±€éƒ¨å€’ç½®ã€‚
> ```

```java
//ç»´æŠ¤åç¼€æœ€å°å€¼
class Solution {
    public boolean isIdealPermutation(int[] nums) {
        int n = nums.length, minSuff = nums[n - 1];
        for (int i = n - 3; i >= 0; i--) {
            if (nums[i] > minSuff) {
                return false;
            }
            minSuff = Math.min(minSuff, nums[i + 1]);
        }
        return true;
    }
}
```







### [315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°](https://leetcode.cn/problems/count-of-smaller-numbers-after-self/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ `counts` ã€‚æ•°ç»„ `counts` æœ‰è¯¥æ€§è´¨ï¼š `counts[i]` çš„å€¼æ˜¯ `nums[i]` å³ä¾§å°äº `nums[i]` çš„å…ƒç´ çš„æ•°é‡ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [5,2,6,1]
> è¾“å‡ºï¼š[2,1,1,0] 
> è§£é‡Šï¼š
> 5 çš„å³ä¾§æœ‰ 2 ä¸ªæ›´å°çš„å…ƒç´  (2 å’Œ 1)
> 2 çš„å³ä¾§ä»…æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1)
> 6 çš„å³ä¾§æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1)
> 1 çš„å³ä¾§æœ‰ 0 ä¸ªæ›´å°çš„å…ƒç´ 
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [-1]
> è¾“å‡ºï¼š[0]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [-1,-1]
> è¾“å‡ºï¼š[0,0]
> ```

#### äºŒåˆ†æ³•

#### å½’å¹¶æ’åº

#### æ ‘çŠ¶æ•°ç»„

[ç®—æ³•å­¦ä¹ ç¬”è®°(2) : æ ‘çŠ¶æ•°ç»„ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/93795692)

â€‹	BIT(Binary Index Tree)

#### çº¿æ®µæ ‘

#### äºŒå‰æœç´¢æ ‘

### [11.17/792. åŒ¹é…å­åºåˆ—çš„å•è¯æ•°](https://leetcode.cn/problems/number-of-matching-subsequences/)

> ç»™å®šå­—ç¬¦ä¸² `s` å’Œå­—ç¬¦ä¸²æ•°ç»„ `words`, è¿”å› *`words[i]` ä¸­æ˜¯`s`çš„å­åºåˆ—çš„å•è¯ä¸ªæ•°* ã€‚
>
> å­—ç¬¦ä¸²çš„ **å­åºåˆ—** æ˜¯ä»åŸå§‹å­—ç¬¦ä¸²ä¸­ç”Ÿæˆçš„æ–°å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä»ä¸­åˆ å»ä¸€äº›å­—ç¬¦(å¯ä»¥æ˜¯none)ï¼Œè€Œä¸æ”¹å˜å…¶ä½™å­—ç¬¦çš„ç›¸å¯¹é¡ºåºã€‚
>
> - ä¾‹å¦‚ï¼Œ `â€œaceâ€` æ˜¯ `â€œabcdeâ€` çš„å­åºåˆ—ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: s = "abcde", words = ["a","bb","acd","ace"]
> è¾“å‡º: 3
> è§£é‡Š: æœ‰ä¸‰ä¸ªæ˜¯ s çš„å­åºåˆ—çš„å•è¯: "a", "acd", "ace"ã€‚
> ```
>
> **Example 2:**
>
> ```
> è¾“å…¥: s = "dsahjpjauf", words = ["ahjpjau","ja","ahbwzgqnuk","tnmlanowax"]
> è¾“å‡º: 2
> ```

äºŒåˆ† 

```java
public int numMatchSubseq(String s,String[] words){
    List<Integer> pos[] = new List[26];//å­˜26ä¸ªå­—æ¯çš„åˆ—è¡¨æ•°ç»„ï¼Œæ¯ä¸ªä¸‹æ ‡å­˜ArrayList
    char c[] = s.toCharArray();
    for(int i = 0;i<26;i++){
        pos[i] =new ArrayList<>();
        pos[i].add(-1);
    }
    for(int i = 0;i<c.length;i++){
        pos[c[i]-'a'].add(i);//æ¯ä¸ªå­—æ¯å‡ºç°çš„ä½ç½®
    }
    int ans = words.length;
    for(int i =0;i<words.length;i++){
        int pre = -1;
        for(char ch:words[i].toCharArray()){5
            int next = nextPos(pos,pre,ch-'a');
            if(next==-1){
                ans--;break;
            }
            pre = next;
        }
    }
    return ans;
}

//äºŒåˆ†æŸ¥æ‰¾
int nextPos(List<Integer> pos[],int idx ,int ch){
    if(pos[ch].get(pos[ch].size()-1)<=idx){return -1;}
        int l=0,r=pos[ch].size()-1;
        while(l<r){
            int mid=(l+r)>>1;
            if(pos[ch].get(mid)>idx){r=mid;}
            else{l=mid+1;}
            if(l==r-1){
                if(pos[ch].get(l)>idx){r=l;}
                break;
            }
        }
        return pos[ch].get(r);
}
```

```java
//nextæ•°ç»„
class Solution {
    public int numMatchingSubseq(String s, String[] words) {
        char c[]=s.toCharArray();
        int next[][]=new int[c.length+1][26];
        int pos[]=new int[26];//æ¯ä¸ªå­—æ¯ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ŒåŒ¹é…ç¬¦åˆè´ªå¿ƒ
        Arrays.fill(pos,-1);
        for(int i=0;i<=c.length;i++){Arrays.fill(next[i],-1);}
        for(int i=c.length-1;i>=0;i--){//å€’å™
            pos[c[i]-'a']=i;
            for(int j=0;j<26;j++){next[i][j]=pos[j];}            
        }
        int ans=words.length;
        for(int i=0;i<words.length;i++){
            int pre=0;
            char c1[]=words[i].toCharArray();
            for(int j=0;j<c1.length;j++){
                pre=next[pre][c1[j]-'a'];
                if(pre<0){
                    ans--;
                    break;
                }
                pre++;
            }
        }
        return ans;
    }
}
```

### 392.åˆ¤æ–­å­åºåˆ—

DPåšæ³•:

é¢„å¤„ç†tä¸­æ¯ä¸€ä¸ªå­—ç¬¦ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½®

```java
int n = s.length(), m = t.length();
int[][] f = new int[m+1][26];
for(int i = 0;i<26;i++){
    f[m][i] = m;//åˆå§‹åŒ–ï¼šç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ä¸ºæœ«å°¾
}


```

### [799. é¦™æ§Ÿå¡”ğŸ”´](https://leetcode.cn/problems/champagne-tower/)

> æˆ‘ä»¬æŠŠç»ç’ƒæ¯æ‘†æˆé‡‘å­—å¡”çš„å½¢çŠ¶ï¼Œå…¶ä¸­ **ç¬¬ä¸€å±‚** æœ‰ `1` ä¸ªç»ç’ƒæ¯ï¼Œ **ç¬¬äºŒå±‚** æœ‰ `2` ä¸ªï¼Œä¾æ¬¡ç±»æ¨åˆ°ç¬¬ 100 å±‚ï¼Œæ¯ä¸ªç»ç’ƒæ¯ (250ml) å°†ç››æœ‰é¦™æ§Ÿã€‚
>
> ä»é¡¶å±‚çš„ç¬¬ä¸€ä¸ªç»ç’ƒæ¯å¼€å§‹å€¾å€’ä¸€äº›é¦™æ§Ÿï¼Œå½“é¡¶å±‚çš„æ¯å­æ»¡äº†ï¼Œä»»ä½•æº¢å‡ºçš„é¦™æ§Ÿéƒ½ä¼šç«‹åˆ»ç­‰æµé‡çš„æµå‘å·¦å³ä¸¤ä¾§çš„ç»ç’ƒæ¯ã€‚å½“å·¦å³ä¸¤è¾¹çš„æ¯å­ä¹Ÿæ»¡äº†ï¼Œå°±ä¼šç­‰æµé‡çš„æµå‘å®ƒä»¬å·¦å³ä¸¤è¾¹çš„æ¯å­ï¼Œä¾æ¬¡ç±»æ¨ã€‚ï¼ˆå½“æœ€åº•å±‚çš„ç»ç’ƒæ¯æ»¡äº†ï¼Œé¦™æ§Ÿä¼šæµåˆ°åœ°æ¿ä¸Šï¼‰
>
> ä¾‹å¦‚ï¼Œåœ¨å€¾å€’ä¸€æ¯é¦™æ§Ÿåï¼Œæœ€é¡¶å±‚çš„ç»ç’ƒæ¯æ»¡äº†ã€‚å€¾å€’äº†ä¸¤æ¯é¦™æ§Ÿåï¼Œç¬¬äºŒå±‚çš„ä¸¤ä¸ªç»ç’ƒæ¯å„è‡ªç››æ”¾ä¸€åŠçš„é¦™æ§Ÿã€‚åœ¨å€’ä¸‰æ¯é¦™æ§Ÿåï¼Œç¬¬äºŒå±‚çš„é¦™æ§Ÿæ»¡äº† - æ­¤æ—¶æ€»å…±æœ‰ä¸‰ä¸ªæ»¡çš„ç»ç’ƒæ¯ã€‚åœ¨å€’ç¬¬å››æ¯åï¼Œç¬¬ä¸‰å±‚ä¸­é—´çš„ç»ç’ƒæ¯ç››æ”¾äº†ä¸€åŠçš„é¦™æ§Ÿï¼Œä»–ä¸¤è¾¹çš„ç»ç’ƒæ¯å„è‡ªç››æ”¾äº†å››åˆ†ä¹‹ä¸€çš„é¦™æ§Ÿï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
>
> <img src="../Resources/tower.png" alt="img" style="zoom:33%;" />
>
> ç°åœ¨å½“å€¾å€’äº†éè´Ÿæ•´æ•°æ¯é¦™æ§Ÿåï¼Œè¿”å›ç¬¬ `i` è¡Œ `j` ä¸ªç»ç’ƒæ¯æ‰€ç››æ”¾çš„é¦™æ§Ÿå ç»ç’ƒæ¯å®¹ç§¯çš„æ¯”ä¾‹ï¼ˆ `i` å’Œ `j` éƒ½ä»0å¼€å§‹ï¼‰ã€‚
>
> ```
> ç¤ºä¾‹ 1:
> è¾“å…¥: poured(å€¾å€’é¦™æ§Ÿæ€»æ¯æ•°) = 1, query_glass(æ¯å­çš„ä½ç½®æ•°) = 1, query_row(è¡Œæ•°) = 1
> è¾“å‡º: 0.00000
> è§£é‡Š: æˆ‘ä»¬åœ¨é¡¶å±‚ï¼ˆä¸‹æ ‡æ˜¯ï¼ˆ0ï¼Œ0ï¼‰ï¼‰å€’äº†ä¸€æ¯é¦™æ§Ÿåï¼Œæ²¡æœ‰æº¢å‡ºï¼Œå› æ­¤æ‰€æœ‰åœ¨é¡¶å±‚ä»¥ä¸‹çš„ç»ç’ƒæ¯éƒ½æ˜¯ç©ºçš„ã€‚
> 
> ç¤ºä¾‹ 2:
> è¾“å…¥: poured(å€¾å€’é¦™æ§Ÿæ€»æ¯æ•°) = 2, query_glass(æ¯å­çš„ä½ç½®æ•°) = 1, query_row(è¡Œæ•°) = 1
> è¾“å‡º: 0.50000
> è§£é‡Š: æˆ‘ä»¬åœ¨é¡¶å±‚ï¼ˆä¸‹æ ‡æ˜¯ï¼ˆ0ï¼Œ0ï¼‰å€’äº†ä¸¤æ¯é¦™æ§Ÿåï¼Œæœ‰ä¸€æ¯é‡çš„é¦™æ§Ÿå°†ä»é¡¶å±‚æº¢å‡ºï¼Œä½äºï¼ˆ1ï¼Œ0ï¼‰çš„ç»ç’ƒæ¯å’Œï¼ˆ1ï¼Œ1ï¼‰çš„ç»ç’ƒæ¯å¹³åˆ†äº†è¿™ä¸€æ¯é¦™æ§Ÿï¼Œæ‰€ä»¥æ¯ä¸ªç»ç’ƒæ¯æœ‰ä¸€åŠçš„é¦™æ§Ÿã€‚
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥: poured = 100000009, query_row = 33, query_glass = 17
> è¾“å‡º: 1.00000
> ```

æ¨¡æ‹Ÿï¼šå°†æ‰€æœ‰ä¸€æ¬¡æ€§å€’å…¥ç¬¬ä¸€æ¯

```java
public double champagneTower(int poured, int query_row, int query_glass) {
    double[] row = {poured};//å°†æ‰€æœ‰ä¸€æ¬¡æ€§å€’å…¥ç¬¬ä¸€æ¯
    for(int i= 1;i<=query_row;i++){
        double[] nextRow = new double[i+1];
        for(int j = 0;j<i;j++){
            double volume = row[j];
            if(volume>1){
                nextRow[j] +=(volume-1)/2;
                nextRow[j+1] += (volume-1)/2;
            }
        }
        row = nextRow;
    }
    return Math.min(1,row[query_glass]);
}
```

### [878. ç¬¬ N ä¸ªç¥å¥‡æ•°å­—ğŸ”](https://leetcode.cn/problems/nth-magical-number/)

> ä¸€ä¸ªæ­£æ•´æ•°å¦‚æœèƒ½è¢« `a` æˆ– `b` æ•´é™¤ï¼Œé‚£ä¹ˆå®ƒæ˜¯ç¥å¥‡çš„ã€‚
>
> ç»™å®šä¸‰ä¸ªæ•´æ•° `n` , `a` , `b` ï¼Œè¿”å›ç¬¬ `n` ä¸ªç¥å¥‡çš„æ•°å­—ã€‚å› ä¸ºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥è¿”å›ç­”æ¡ˆ **å¯¹** `109 + 7` **å–æ¨¡** åçš„å€¼ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šn = 1, a = 2, b = 3
> è¾“å‡ºï¼š2
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šn = 4, a = 2, b = 3
> è¾“å‡ºï¼š6
> ```

```java
class Solution {
    public int nthMagicalNumber(int n, int a, int b) {
        // aã€bæœ‰å€æ•°å…³ç³»ï¼Œå¯ç›´æ¥O(1)å†…è¿”å›ã€‚
        if(a % b == 0)return nthMagicalNumber(n, b);
        if(b % a == 0)return nthMagicalNumber(n, a);

        //æ±‚aå’Œbçš„æœ€å°å…¬å€æ•°p
        int p = a, i = 1;
        while(p * i % b != 0)i++;
        p = p * i;

        //äºŒåˆ†æŸ¥æ‰¾ï¼Œç›´åˆ°æŸä¸ªæ•°ä¹‹å‰æ°å¥½æœ‰nä¸ªç¥å¥‡æ•°å­—ã€‚
        long l = 1, r = (long)n * Math.min(a, b);
        while(l <= r){
            long m = l + (r - l)/2;
            // æ±‚mä¹‹å‰çš„ç¥å¥‡æ•°å­—çš„ä¸ªæ•°ï¼šaçš„å€æ•°çš„æ•°é‡ï¼ŒåŠ ä¸Šbçš„å€æ•°çš„æ•°é‡ï¼Œå†å‡å»aå’Œbçš„å…¬å€æ•°çš„æ•°é‡
            if( m / a + m / b - m / p >= n)r = --m;
            else l = ++m;
        }
        
        return (int)(l%1000000007);
    }

    public int nthMagicalNumber(int n, int a) {
        return (int)((long)n * a % 1000000007);
    }
}
```

### [795. åŒºé—´å­æ•°ç»„ä¸ªæ•°ğŸ”´ğŸ”´ğŸ”´ğŸ”´](https://leetcode.cn/problems/number-of-subarrays-with-bounded-maximum/)âœ…

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸¤ä¸ªæ•´æ•°ï¼š`left` åŠ `right` ã€‚æ‰¾å‡º `nums` ä¸­è¿ç»­ã€éç©ºä¸”å…¶ä¸­æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ `[left, right]` å†…çš„å­æ•°ç»„ï¼Œå¹¶è¿”å›æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚
>
> ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¿è¯ç»“æœç¬¦åˆ **32-bit** æ•´æ•°èŒƒå›´ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,1,4,3], left = 2, right = 3
> è¾“å‡ºï¼š3
> è§£é‡Šï¼šæ»¡è¶³æ¡ä»¶çš„ä¸‰ä¸ªå­æ•°ç»„ï¼š[2], [2, 1], [3]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [2,9,2,5,6], left = 2, right = 8
> è¾“å‡ºï¼š7
> ```
>
> **æç¤ºï¼š**
>
> - `1 <= nums.length <= 105`
> - `0 <= nums[i] <= 109`
> - `0 <= left <= right <= 109`

```java
class Solution {
    public int numSubarrayBoundedMax(int[] A, int L, int R) {
        // æœ€å¤§å…ƒç´ æ»¡è¶³å¤§äºç­‰äºLå°äºç­‰äºRçš„å­æ•°ç»„ä¸ªæ•° = æœ€å¤§å…ƒç´ å°äºç­‰äºRçš„å­æ•°ç»„ä¸ªæ•° - æœ€å¤§å…ƒç´ å°äºLçš„å­æ•°ç»„ä¸ªæ•°
        return numSubarrayBoundedMax(A, R) - numSubarrayBoundedMax(A, L - 1);
    }

    private int numSubarrayBoundedMax(int[] A, int Max) {
        int res = 0;
        int numSubarry = 0;
        for (int num : A) {
            if (num <= Max) {
                numSubarry++;
                res += numSubarry;
            } else {
                numSubarry = 0;
            }
        }
        return res;
    }
}
```

```c++
class Solution {
public:
    int numSubarrayBoundedMax(vector<int>& A, int L, int R) {
        int j = -1, temp = 0, ans = 0;
        for(int i = 0; i < A.size(); i++) {
            if(A[i] > R)
                j = i;
            if(A[i] >= L)
                temp = i - j;
            ans += temp;
        }
        return ans;
    }
};
```

### [809. æƒ…æ„Ÿä¸°å¯Œçš„æ–‡å­—](https://leetcode.cn/problems/expressive-words/)

> æœ‰æ—¶å€™äººä»¬ä¼šç”¨é‡å¤å†™ä¸€äº›å­—æ¯æ¥è¡¨ç¤ºé¢å¤–çš„æ„Ÿå—ï¼Œæ¯”å¦‚ `"hello" -> "heeellooo"`, `"hi" -> "hiii"`ã€‚æˆ‘ä»¬å°†ç›¸é‚»å­—æ¯éƒ½ç›¸åŒçš„ä¸€ä¸²å­—ç¬¦å®šä¹‰ä¸ºç›¸åŒå­—æ¯ç»„ï¼Œä¾‹å¦‚ï¼š"h", "eee", "ll", "ooo"ã€‚
>
> å¯¹äºä¸€ä¸ªç»™å®šçš„å­—ç¬¦ä¸² S ï¼Œå¦‚æœå¦ä¸€ä¸ªå•è¯èƒ½å¤Ÿé€šè¿‡å°†ä¸€äº›å­—æ¯ç»„æ‰©å¼ ä»è€Œä½¿å…¶å’Œ S ç›¸åŒï¼Œæˆ‘ä»¬å°†è¿™ä¸ªå•è¯å®šä¹‰ä¸ºå¯æ‰©å¼ çš„ï¼ˆstretchyï¼‰ã€‚æ‰©å¼ æ“ä½œå®šä¹‰å¦‚ä¸‹ï¼šé€‰æ‹©ä¸€ä¸ªå­—æ¯ç»„ï¼ˆåŒ…å«å­—æ¯ `c` ï¼‰ï¼Œç„¶åå¾€å…¶ä¸­æ·»åŠ ç›¸åŒçš„å­—æ¯ `c` ä½¿å…¶é•¿åº¦è¾¾åˆ° 3 æˆ–ä»¥ä¸Šã€‚
>
> ä¾‹å¦‚ï¼Œä»¥ "hello" ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å­—æ¯ç»„ "o" æ‰©å¼ å¾—åˆ° "hellooo"ï¼Œä½†æ˜¯æ— æ³•ä»¥åŒæ ·çš„æ–¹æ³•å¾—åˆ° "helloo" å› ä¸ºå­—æ¯ç»„ "oo" é•¿åº¦å°äº 3ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦ä¸€ç§æ‰©å¼  "ll" -> "lllll" ä»¥è·å¾— "helllllooo"ã€‚å¦‚æœ `s = "helllllooo"`ï¼Œé‚£ä¹ˆæŸ¥è¯¢è¯ "hello" æ˜¯å¯æ‰©å¼ çš„ï¼Œå› ä¸ºå¯ä»¥å¯¹å®ƒæ‰§è¡Œè¿™ä¸¤ç§æ‰©å¼ æ“ä½œä½¿å¾— `query = "hello" -> "hellooo" -> "helllllooo" = s`ã€‚
>
> è¾“å…¥ä¸€ç»„æŸ¥è¯¢å•è¯ï¼Œè¾“å‡ºå…¶ä¸­å¯æ‰©å¼ çš„å•è¯æ•°é‡ã€‚
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> è¾“å…¥ï¼š 
> s = "heeellooo"
> words = ["hello", "hi", "helo"]
> è¾“å‡ºï¼š1
> è§£é‡Šï¼š
> æˆ‘ä»¬èƒ½é€šè¿‡æ‰©å¼  "hello" çš„ "e" å’Œ "o" æ¥å¾—åˆ° "heeellooo"ã€‚
> æˆ‘ä»¬ä¸èƒ½é€šè¿‡æ‰©å¼  "helo" æ¥å¾—åˆ° "heeellooo" å› ä¸º "ll" çš„é•¿åº¦å°äº 3 ã€‚
> ```

```java
class Solution {
    public int expressiveWords(String s, String[] words) {
        int ans = 0;
        char[] arr1 = s.toCharArray();
        for (String word : words) ans += ok(arr1, word.toCharArray()) ? 1 : 0;
        return ans;
    }
    boolean ok(char[] arr1, char[] arr2) {  
        int p1 = 0, p2 = 0;
        while (p1 < arr1.length && p2 < arr2.length) { 
            int cnt1 = 0, cnt2 = 0;
            char c = arr1[p1];
            while (p1 < arr1.length && arr1[p1] == c) {p1++; cnt1++;}
            while (p2 < arr2.length && arr2[p2] == c) {p2++; cnt2++;} 
            if (cnt1 < cnt2 || (cnt1 > cnt2 && cnt1 < 3)) return false; 
        }
        return p1 == arr1.length && p2 == arr2.length;
    }
}
```

### [813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„](https://leetcode.cn/problems/largest-sum-of-averages/)

> ç»™å®šæ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚æˆ‘ä»¬å°†ç»™å®šçš„æ•°ç»„ `nums` åˆ†æˆ **æœ€å¤š** `k` ä¸ªç›¸é‚»çš„éç©ºå­æ•°ç»„ ã€‚ **åˆ†æ•°** ç”±æ¯ä¸ªå­æ•°ç»„å†…çš„å¹³å‡å€¼çš„æ€»å’Œæ„æˆã€‚
>
> æ³¨æ„æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ `nums` æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°è¿›è¡Œåˆ†ç»„ï¼Œå¹¶ä¸”åˆ†æ•°ä¸ä¸€å®šéœ€è¦æ˜¯æ•´æ•°ã€‚
>
> è¿”å›æˆ‘ä»¬æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§ **åˆ†æ•°** æ˜¯å¤šå°‘ã€‚ç­”æ¡ˆè¯¯å·®åœ¨ `10-6` å†…è¢«è§†ä¸ºæ˜¯æ­£ç¡®çš„ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: nums = [9,1,2,3,9], k = 3
> è¾“å‡º: 20.00000
> è§£é‡Š: 
> nums çš„æœ€ä¼˜åˆ†ç»„æ˜¯[9], [1, 2, 3], [9]. å¾—åˆ°çš„åˆ†æ•°æ˜¯ 9 + (1 + 2 + 3) / 3 + 9 = 20. 
> æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠ nums åˆ†æˆ[9, 1], [2], [3, 9]. 
> è¿™æ ·çš„åˆ†ç»„å¾—åˆ°çš„åˆ†æ•°ä¸º 5 + 2 + 6 = 13, ä½†ä¸æ˜¯æœ€å¤§å€¼.
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: nums = [1,2,3,4,5,6,7], k = 4
> è¾“å‡º: 20.50000
> ```

```java
class Solution {
    double negInf=-1e7;
    public double largestSumOfAverages(int[] nums, int k) {
        int n = nums.length;
        double[][] dp = new double[n+1][k+1];// dp[i][j] è¡¨ç¤ºå‰ié¡¹åˆ†æˆjç»„çš„æœ€å¤§å¹³å‡å’Œ
        for(int i = 1;i<=n;i++){
            ans[i][0] = negInf;
            for(int j = 1;j<=k;j++){
                for(int p =0;p<i;p++){
                    double sum = 0;
                    for(int w =p;w<i;w++){// è®¡ç®— ä»påˆ°içš„å­æ•°ç»„å’Œ
                        sum+=nums[w];
                    }
                    // ans[p][j-1]+sum/(i-p)è¡¨ç¤ºï¼š 0-p åˆ†æˆj-1ä¸ªç»„ + p-iä¸€ä¸ªç»„çš„å¹³å‡å€¼å’Œ
                    ans[i][j] = Math.max(ans[i][j],ans[p][j-1]+sum/(i-p));
                }
            }
        }
        return ans[n][k];
    }
}
```

å‰ç¼€å’Œä¼˜åŒ–ï¼š

<img src="../Resources/image-20221128104501575.png" alt="image-20221128104501575" style="zoom:80%;" />

```java
class Solution {
    public double largestSumOfAverages(int[] nums, int k) {
        int n = nums.length;
        double[] prefix = new double[n + 1];
        for (int i = 0; i < n; i++) {
            prefix[i + 1] = prefix[i] + nums[i];
        }
        double[][] dp = new double[n + 1][k + 1];
        for (int i = 1; i <= n; i++) {
            dp[i][1] = prefix[i] / i;
        }
        for (int j = 2; j <= k; j++) {
            for (int i = j; i <= n; i++) {
                for (int x = j - 1; x < i; x++) {  //è¿™é‡Œx ä»1 å¼€å§‹ä¹Ÿè¡Œï¼Œè€—æ—¶50%ï¼Œ ä¼˜åŒ–å87%
                    dp[i][j] = Math.max(dp[i][j], dp[x][j - 1] + (prefix[i] - prefix[x]) / (i - x));
                }
            }
        }
        return dp[n][k];
    }
}
```

### [895. æœ€å¤§é¢‘ç‡æ ˆğŸ”](https://leetcode.cn/problems/maximum-frequency-stack/)

> è®¾è®¡ä¸€ä¸ªç±»ä¼¼å †æ ˆçš„æ•°æ®ç»“æ„ï¼Œå°†å…ƒç´ æ¨å…¥å †æ ˆï¼Œå¹¶ä»å †æ ˆä¸­å¼¹å‡º**å‡ºç°é¢‘ç‡**æœ€é«˜çš„å…ƒç´ ã€‚
>
> å®ç° `FreqStack` ç±»:
>
> - `FreqStack()` æ„é€ ä¸€ä¸ªç©ºçš„å †æ ˆã€‚
> - `void push(int val)` å°†ä¸€ä¸ªæ•´æ•° `val` å‹å…¥æ ˆé¡¶ã€‚
> - int pop() åˆ é™¤å¹¶è¿”å›å †æ ˆä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ã€‚
>     - å¦‚æœå‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ä¸åªä¸€ä¸ªï¼Œåˆ™ç§»é™¤å¹¶è¿”å›æœ€æ¥è¿‘æ ˆé¡¶çš„å…ƒç´ ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼š
> ["FreqStack","push","push","push","push","push","push","pop","pop","pop","pop"],
> [[],[5],[7],[5],[7],[4],[5],[],[],[],[]]
> è¾“å‡ºï¼š[null,null,null,null,null,null,null,5,7,5,4]
> è§£é‡Šï¼š
> FreqStack = new FreqStack();
> freqStack.push (5);//å †æ ˆä¸º [5]
> freqStack.push (7);//å †æ ˆæ˜¯ [5,7]
> freqStack.push (5);//å †æ ˆæ˜¯ [5,7,5]
> freqStack.push (7);//å †æ ˆæ˜¯ [5,7,5,7]
> freqStack.push (4);//å †æ ˆæ˜¯ [5,7,5,7,4]
> freqStack.push (5);//å †æ ˆæ˜¯ [5,7,5,7,4,5]
> freqStack.pop ();//è¿”å› 5 ï¼Œå› ä¸º 5 å‡ºç°é¢‘ç‡æœ€é«˜ã€‚å †æ ˆå˜æˆ [5,7,5,7,4]ã€‚
> freqStack.pop ();//è¿”å› 7 ï¼Œå› ä¸º 5 å’Œ 7 å‡ºç°é¢‘ç‡æœ€é«˜ï¼Œä½†7æœ€æ¥è¿‘é¡¶éƒ¨ã€‚å †æ ˆå˜æˆ [5,7,5,4]ã€‚
> freqStack.pop ();//è¿”å› 5 ï¼Œå› ä¸º 5 å‡ºç°é¢‘ç‡æœ€é«˜ã€‚å †æ ˆå˜æˆ [5,7,4]ã€‚
> freqStack.pop ();//è¿”å› 4 ï¼Œå› ä¸º 4, 5 å’Œ 7 å‡ºç°é¢‘ç‡æœ€é«˜ï¼Œä½† 4 æ˜¯æœ€æ¥è¿‘é¡¶éƒ¨çš„ã€‚å †æ ˆå˜æˆ [5,7]ã€‚
> ```
>
> **æç¤ºï¼š**
>
> - `0 <= val <= 109`
> - `push` å’Œ `pop` çš„æ“ä½œæ•°ä¸å¤§äº `2 * 104`ã€‚
> - è¾“å…¥ä¿è¯åœ¨è°ƒç”¨ `pop` ä¹‹å‰å †æ ˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ ã€‚

```java
class FreqStack {
    private Map<Integer, Integer> freq; //è®°å½•æ¯ä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°
    private Map<Integer, Deque<Integer>> group; // æ¯ä¸ªé¢‘ç‡éƒ½æœ‰ä¸€ä¸ªæ ˆ
    private int maxFreq;

    public FreqStack() {
        freq = new HashMap<Integer, Integer>();
        group = new HashMap<Integer, Deque<Integer>>();
        maxFreq = 0;
    }

    public void push(int val) {
        freq.put(val, freq.getOrDefault(val, 0) + 1);
        group.putIfAbsent(freq.get(val), new ArrayDeque<Integer>());
        group.get(freq.get(val)).push(val);
        maxFreq = Math.max(maxFreq, freq.get(val));
    }

    public int pop() {
        int val = group.get(maxFreq).peek();
        freq.put(val, freq.get(val) - 1);
        group.get(maxFreq).pop();
        if (group.get(maxFreq).isEmpty()) {
            maxFreq--;
        }
        return val;
    }
}
```

### [962. æœ€å¤§å®½åº¦å¡](https://leetcode.cn/problems/maximum-width-ramp/)

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `A`ï¼Œ*å¡*æ˜¯å…ƒç»„ `(i, j)`ï¼Œå…¶ä¸­ `i < j` ä¸” `A[i] <= A[j]`ã€‚è¿™æ ·çš„å¡çš„å®½åº¦ä¸º `j - i`ã€‚
>
> æ‰¾å‡º `A` ä¸­çš„å¡çš„æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼š[6,0,8,2,1,5]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼š
> æœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (1, 5): A[1] = 0 ä¸” A[5] = 5.
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼š[9,8,1,0,1,9,4,0,4,1]
> è¾“å‡ºï¼š7
> è§£é‡Šï¼š
> æœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (2, 9): A[2] = 1 ä¸” A[9] = 1.
> ```

```java
//å•è°ƒæ ˆ
class Solution {
    public int maxWidthRamp(int[] A) {
        int n = A.length;
        int maxWidth = 0;
        Stack<Integer> stack = new Stack<>();
        for (int i=0;i<n;i++) {
            if (stack.isEmpty() || A[stack.peek()] > A[i]) {
                stack.push(i);
            }
        }
        for (int i=n-1;i>=0;i--) {
            while (!stack.isEmpty() && A[stack.peek()] <= A[i]) {
                int pos = stack.pop();
                maxWidth = Math.max(maxWidth, i - pos);
            }
        }
        return maxWidth;
    }
}

```

æ–¹æ³•äºŒï¼šäºŒåˆ†æ£€ç´¢å€™é€‰ä½ç½®
æ€è·¯

æŒ‰ç…§é™åºè€ƒè™‘ i ï¼Œ æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„ j æ»¡è¶³ A[j] >= A[i]ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€‚

å› æ­¤ï¼Œå€™é€‰çš„ j åº”è¯¥æ˜¯é™åºçš„ï¼šå¦‚æœå­˜åœ¨ j1 < j2 å¹¶ä¸” A[j1] <= A[j2] ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šä¼šé€‰æ‹© j2ã€‚

ç®—æ³•

æˆ‘ä»¬ä½¿ç”¨åˆ—è¡¨è®°å½•è¿™äº›å€™é€‰çš„ jã€‚ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå½“ A = [0,8,2,7,5]ï¼Œå¯¹äº i = 0 çš„å€™é€‰åˆ—è¡¨åº”è¯¥æ˜¯ candidates = [(v=5, j=4), (v=7, j=3), (v=8, j=1)]ã€‚æˆ‘ä»¬è¦æ—¶åˆ»ç»´æŠ¤å€™é€‰åˆ—è¡¨ candidates æŒ‰ç…§ç´¢å¼•å€¼é™åºï¼Œå¯¹åº”å€¼å‡åºã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æ£€ç´¢çš„åŠæ³•æ‰¾åˆ°æœ€å¤§çš„ç´¢å¼• j æ»¡è¶³ A[j] >= A[i]ï¼šä¹Ÿå°±æ˜¯åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³ v >= A[i] çš„é‚£ä¸€é¡¹ã€‚

```java
import java.awt.Point;

class Solution {
    public int maxWidthRamp(int[] A) {
        int N = A.length;

        int ans = 0;
        List<Point> candidates = new ArrayList();
        candidates.add(new Point(A[N-1], N-1));

        // candidates: i's decreasing, by increasing value of A[i]
        for (int i = N-2; i >= 0; --i) {
            // Find largest j in candidates with A[j] >= A[i]
            int lo = 0, hi = candidates.size();
            while (lo < hi) {
                int mi = lo + (hi - lo) / 2;
                if (candidates.get(mi).x < A[i])
                    lo = mi + 1;
                else
                    hi = mi;
            }

            if (lo < candidates.size()) {
                int j = candidates.get(lo).y;
                ans = Math.max(ans, j - i);
            } else {
                candidates.add(new Point(A[i], i));
            }
        }
        return ans;
    }
}
```

